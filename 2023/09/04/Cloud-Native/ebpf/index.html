<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">
  <meta name="google-site-verification" content="lk2gSYFP_NyLNFob-fFnt7fm-I_n1ZYws-WZll7mshg">
  <meta name="msvalidate.01" content="6Jdc01DjYOLguhS5">
  <meta name="baidu-site-verification" content="code-NR10G09zww">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7Ccursive:300,300italic,400,400italic,700,700italic%7CSource+Code+Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/yellow/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"fresh88888888.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.17.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":true,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/local-search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":10,"unescape":false,"preload":true}}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/config.min.js"></script>

    <meta name="description" content="什么事eBPF?eBPF 是一项革命性技术，起源于 Linux 内核，可以在特权上下文（例如操作系统内核）中运行沙盒程序。它用于安全有效地扩展内核的功能，而无需更改内核源代码或加载内核模块。从历史上看，由于内核具有监督和控制整个系统的特权能力，操作系统一直是实现可观察性、安全性和网络功能的理想场所。同时，操作系统内核由于其核心地位，对稳定性和安全性要求较高，演化难度较大。因此，与操作系统外部实现的">
<meta property="og:type" content="article">
<meta property="og:title" content="eBPF 介绍">
<meta property="og:url" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/index.html">
<meta property="og:site_name" content="UMBRELLA">
<meta property="og:description" content="什么事eBPF?eBPF 是一项革命性技术，起源于 Linux 内核，可以在特权上下文（例如操作系统内核）中运行沙盒程序。它用于安全有效地扩展内核的功能，而无需更改内核源代码或加载内核模块。从历史上看，由于内核具有监督和控制整个系统的特权能力，操作系统一直是实现可观察性、安全性和网络功能的理想场所。同时，操作系统内核由于其核心地位，对稳定性和安全性要求较高，演化难度较大。因此，与操作系统外部实现的">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc1.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc2.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc3.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc4.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc5.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc6.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc7.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc8.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc9.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc10.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc11.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc12.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc13.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc14.png">
<meta property="og:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc15.png">
<meta property="article:published_time" content="2023-09-04T11:23:01.000Z">
<meta property="article:modified_time" content="2023-09-04T11:23:01.000Z">
<meta property="article:author" content="umbrella">
<meta property="article:tag" content="eBPF">
<meta property="article:tag" content="Cloud Native">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/ebpf_desc1.png">


<link rel="canonical" href="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/","path":"2023/09/04/Cloud-Native/ebpf/","title":"eBPF 介绍"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>eBPF 介绍 | UMBRELLA</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">UMBRELLA</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">未雨绸缪，举重若轻</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-算法"><a href="/Algorithm/" rel="section"><i class="fa fa-calendar fa-fw"></i>算法</a></li><li class="menu-item menu-item-c++-&nbsp;编程"><a href="/Programming-C++/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>C++ &nbsp;编程</a></li><li class="menu-item menu-item-rust-编程"><a href="/Programming-Rust/" rel="section"><i class="fa fa-cat fa-fw"></i>Rust 编程</a></li><li class="menu-item menu-item-go-&nbsp;&nbsp;&nbsp;编程"><a href="/Programming-Go/" rel="section"><i class="fa fa-hippo fa-fw"></i>Go &nbsp;&nbsp;&nbsp;编程</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E4%BA%8BeBPF"><span class="nav-number">1.</span> <span class="nav-text">什么事eBPF?</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%92%A9%E5%AD%90%E6%A6%82%E8%BF%B0"><span class="nav-number">2.</span> <span class="nav-text">钩子概述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#eBPF%E7%A8%8B%E5%BA%8F%E6%98%AF%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E7%9A%84%EF%BC%9F"><span class="nav-number">3.</span> <span class="nav-text">eBPF程序是如何编写的？</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%92%8C%E9%AA%8C%E8%AF%81%E6%9E%B6%E6%9E%84"><span class="nav-number">4.</span> <span class="nav-text">加载器和验证架构</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#eBPF-%E5%AE%89%E5%85%A8"><span class="nav-number">5.</span> <span class="nav-text">eBPF 安全</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#eBPF-%E5%AF%B9-Linux-%E5%86%85%E6%A0%B8%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="nav-number">6.</span> <span class="nav-text">eBPF 对 Linux 内核的影响</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E9%93%BE"><span class="nav-number">7.</span> <span class="nav-text">开发工具链</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#bcc"><span class="nav-number">7.1.</span> <span class="nav-text">bcc</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#bpftrace"><span class="nav-number">7.2.</span> <span class="nav-text">bpftrace</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#eBPF-Go-%E5%BA%93"><span class="nav-number">7.3.</span> <span class="nav-text">eBPF Go 库</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#libbpf-C-C-%E5%BA%93"><span class="nav-number">7.4.</span> <span class="nav-text">libbpf C&#x2F;C++ 库</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%96%87%E6%A1%A3"><span class="nav-number">7.5.</span> <span class="nav-text">文档</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%95%99%E7%A8%8B"><span class="nav-number">7.6.</span> <span class="nav-text">教程</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="umbrella"
      src="/avatar.jpeg">
  <p class="site-author-name" itemprop="name">umbrella</p>
  <div class="site-description" itemprop="description">没事就多看看书</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">171</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/fresh88888888" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;fresh88888888" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:fresh888888@foxmail.com" title="E-Mail → mailto:fresh888888@foxmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://www.rust-lang.org/zh-CN/" title="https:&#x2F;&#x2F;www.rust-lang.org&#x2F;zh-CN&#x2F;" rel="noopener" target="_blank">Rust</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://go.dev/" title="https:&#x2F;&#x2F;go.dev&#x2F;" rel="noopener" target="_blank">Golang</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://isocpp.org/" title="https:&#x2F;&#x2F;isocpp.org&#x2F;" rel="noopener" target="_blank">C++</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.python.org/" title="https:&#x2F;&#x2F;www.python.org&#x2F;" rel="noopener" target="_blank">Python</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://doc.rust-lang.org/cargo/index.html" title="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;index.html" rel="noopener" target="_blank">Cargo</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://gist.github.com/rxaviers/7360908" title="https:&#x2F;&#x2F;gist.github.com&#x2F;rxaviers&#x2F;7360908" rel="noopener" target="_blank">Emoji</a>
            </li>
        </ul>
      </div>
    </div>
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpeg">
      <meta itemprop="name" content="umbrella">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UMBRELLA">
      <meta itemprop="description" content="没事就多看看书">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="eBPF 介绍 | UMBRELLA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          eBPF 介绍
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-09-04 19:23:01" itemprop="dateCreated datePublished" datetime="2023-09-04T19:23:01+08:00">2023-09-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cloud-Native/" itemprop="url" rel="index"><span itemprop="name">Cloud Native</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>10 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h5 id="什么事eBPF"><a href="#什么事eBPF" class="headerlink" title="什么事eBPF?"></a>什么事eBPF?</h5><p><code>eBPF</code> 是一项革命性技术，起源于 <code>Linux</code> 内核，可以在特权上下文（例如操作系统内核）中运行沙盒程序。它用于安全有效地扩展内核的功能，而无需更改内核源代码或加载内核模块。从历史上看，由于内核具有监督和控制整个系统的特权能力，操作系统一直是实现可观察性、安全性和网络功能的理想场所。同时，操作系统内核由于其核心地位，对稳定性和安全性要求较高，演化难度较大。因此，与操作系统外部实现的功能相比，操作系统级别的创新率传统上较低。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc1.png" class="">
<p><code>eBPF</code> 从根本上改变了这个公式。它允许沙盒程序在操作系统内运行，这意味着应用程序开发人员可以运行 <code>eBPF</code> 程序以在运行时向操作系统添加附加功能。然后，操作系统可以保证安全性和执行效率，就像借助即时 (<code>JIT</code>) 编译器和验证引擎进行本机编译一样。这引发了一波基于 <code>eBPF</code> 的项目，涵盖广泛的用例，包括下一代网络、可观察性和安全功能。<br>如今，<code>eBPF</code> 被广泛用于驱动各种场景：在现代数据中心和云原生环境中提供高性能网络和负载平衡，以低开销提取细粒度的安全和可观察性数据，帮助应用程序开发人员跟踪应用程序，提供性能故障排查、预防应用程序和容器运行时安全实施等方面的问题。</p>
<span id="more"></span>
<h5 id="钩子概述"><a href="#钩子概述" class="headerlink" title="钩子概述"></a>钩子概述</h5><p><code>eBPF</code> 程序是事件驱动的，当内核或应用程序通过某个挂钩点时运行。预定义的挂钩包括系统调用、函数入口&#x2F;出口、内核跟踪点、网络事件等。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc2.png" class="">
<p>如果不存在满足特定需求的预定义挂钩，则可以创建内核探针 (<code>kprobe</code>) 或用户探针 (<code>uprobe</code>) 来将 <code>eBPF</code> 程序附加到内核或用户应用程序中的几乎任何位置。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc3.png" class="">

<h5 id="eBPF程序是如何编写的？"><a href="#eBPF程序是如何编写的？" class="headerlink" title="eBPF程序是如何编写的？"></a>eBPF程序是如何编写的？</h5><p>在很多场景中，<code>eBPF</code> 并不直接使用，而是通过<code>Cilium</code>、<code>bcc</code>或<code>bpftrace</code>等项目间接使用，这些项目在 <code>eBPF</code> 之上提供抽象，不需要直接编写程序，而是提供指定基于意图的定义的能力，然后这些定义用<code>eBPF</code>实现。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc4.png" class="">
<p>如果不存在更高级别的抽象，则需要直接编写程序。<code>Linux</code> 内核期望 <code>eBPF</code> 程序以字节码的形式加载。虽然直接编写字节码当然是可能的，但更常见的开发实践是利用<code>LLVM</code>等编译器套件将伪 <code>C</code> 代码编译为 <code>eBPF</code> 字节码。</p>
<h5 id="加载器和验证架构"><a href="#加载器和验证架构" class="headerlink" title="加载器和验证架构"></a>加载器和验证架构</h5><p>当识别出所需的钩子后，可以使用 <code>bpf</code> 系统调用将 <code>eBPF</code> 程序加载到 <code>Linux</code> 内核中。这通常是使用可用的 <code>eBPF</code> 库来完成的。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc5.png" class="">
<p>当程序加载到 <code>Linux</code> 内核中时，它在附加到请求的钩子之前要经过两个步骤：验证步骤确保 <code>eBPF</code> 程序可以安全运行。它验证程序是否满足多个条件，例如：</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc6.png" class="">
<ul>
<li>加载 <code>eBPF</code> 程序的进程拥有所需的能力（特权）。除非启用非特权 <code>eBPF</code>，否则只有特权进程才能加载 <code>eBPF</code> 程序。</li>
<li>该程序不会崩溃或以其他方式损害系统。</li>
<li>程序总是运行到完成（即程序不会永远处于循环中，从而阻止进一步的处理）。<br>即时 (<code>JIT</code>) 编译步骤将程序的通用字节码转换为机器特定的指令集，以优化程序的执行速度。这使得 <code>eBPF</code> 程序的运行效率与本机编译的内核代码或作为内核模块加载的代码一样高效。<code>eBPF</code> 程序的一个重要方面是共享收集的信息和存储状态的能力。为此，<code>eBPF</code> 程序可以利用 <code>eBPF</code> 映射的概念来存储和检索各种数据结构中的数据。<code>eBPF</code> 映射可以通过系统调用从 <code>eBPF</code> 程序以及用户空间中的应用程序访问。<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc7.png" class="">
以下是支持的映射类型的不完整列表，以帮助您了解数据结构的多样性。对于各种地图类型，可以使用共享版本和每个 <code>CPU</code> 版本。</li>
<li>哈希表、数组</li>
<li>LRU（最近最少使用）</li>
<li>环形缓冲器</li>
<li>堆栈跟踪</li>
<li>LPM（最长前缀匹配）</li>
<li>…<br><code>eBPF</code> 程序无法调用任意内核函数。允许这样做会将 <code>eBPF</code> 程序绑定到特定的内核版本，并使程序的兼容性变得复杂。相反，<code>eBPF</code> 程序可以对辅助函数进行函数调用，辅助函数是内核提供的众所周知且稳定的 <code>API</code>。<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc8.png" class="">
<code>eBPF</code> 程序可以通过尾部和函数调用的概念进行组合。函数调用允许在 <code>eBPF</code> 程序中定义和调用函数。尾部调用可以调用并执行另一个 <code>eBPF</code> 程序并替换执行上下文，类似于常规进程的 <code>execve()</code> 系统调用的操作方式。<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc9.png" class=""></li>
</ul>
<h5 id="eBPF-安全"><a href="#eBPF-安全" class="headerlink" title="eBPF 安全"></a>eBPF 安全</h5><p><code>eBPF</code> 是一项极其强大的技术，现在运行在许多关键软件基础设施组件的核心。在<code>eBPF</code>的开发过程中，当考虑将<code>eBPF</code>纳入<code>Linux</code>内核时，<code>eBPF</code>的安全性是最重要的方面。<code>eBPF</code> 的安全性通过多个层面来确保：除非启用非特权 <code>eBPF</code>，否则所有打算将 <code>eBPF</code> 程序加载到 <code>Linux</code> 内核中的进程都必须在特权模式（<code>root</code>）下运行，或者需要 <code>CAP_BPF</code> 功能。这意味着不受信任的程序无法加载 <code>eBPF</code> 程序。如果启用非特权 <code>eBPF</code>，非特权进程可以加载某些 <code>eBPF</code> 程序，但功能集会减少，并且对内核的访问受到限制。</p>
<ul>
<li>程序经过验证以确保它们始终运行完成，例如，eBPF 程序可能永远不会阻塞或永远处于循环中。eBPF 程序可能包含所谓的有界循环，但只有当验证者可以确保循环包含保证为真的退出条件时，该程序才会被接受。</li>
<li>程序不得使用任何未初始化的变量或越界访问内存。</li>
<li>程序必须符合系统的大小要求。不可能加载任意大的 eBPF 程序。</li>
<li>程序必须具有有限的复杂性。验证者将评估所有可能的执行路径，并且必须能够在配置的复杂性上限范围内完成分析。</li>
</ul>
<p>验证器是一种安全工具，用于检查程序是否可以安全运行。它不是检查程序正在做什么的安全工具。成功完成验证后，<code>eBPF</code> 程序将根据程序是从特权进程还是非特权进程加载来运行强化过程。该步骤包括：</p>
<ul>
<li>程序执行保护：保存 <code>eBPF</code> 程序的内核内存受到保护并设为只读。如果由于任何原因，无论是内核错误还是恶意操纵，试图修改 <code>eBPF</code> 程序，内核将崩溃，而不是允许它继续执行损坏&#x2F;操纵的程序。</li>
<li>针对 <code>Spectre</code> 的缓解措施：据推测，<code>CPU</code> 可能会错误预测分支并留下可通过侧通道提取的可观察到的副作用。举几个例子：<code>eBPF</code> 程序屏蔽内存访问，以便将瞬态指令下的访问重定向到受控区域，验证器还遵循仅在推测执行下可访问的程序路径，并且 <code>JIT</code> 编译器在尾调用无法转换为直接调用的情况下发出 <code>Retpolines</code> 。</li>
<li>常量致盲：代码中的所有常量都被致盲，以防止 <code>JIT</code> 喷射攻击。这可以防止攻击者将可执行代码作为常量注入，在存在另一个内核错误的情况下，可能允许攻击者跳转到 <code>eBPF</code> 程序的内存部分来执行代码。</li>
</ul>
<p><code>eBPF</code> 程序无法直接访问任意内核内存。位于程序上下文之外的数据和数据结构必须通过 <code>eBPF</code> 帮助程序进行访问。这保证了数据访问的一致性，并使任何此类访问都受到 <code>eBPF</code> 程序特权的约束，例如，只有与程序类型相关的数据结构可以被读取或（有时）修改，前提是验证者可以确保在加载时绑定访问永远不会发生；或者，运行中的<code>eBPF</code>程序只有在能够保证修改安全的情况下才允许修改某些数据结构的数据。<code>eBPF</code> 程序不能随机修改内核中的数据结构。</p>
<h5 id="eBPF-对-Linux-内核的影响"><a href="#eBPF-对-Linux-内核的影响" class="headerlink" title="eBPF 对 Linux 内核的影响"></a>eBPF 对 Linux 内核的影响</h5><p>现在让我们回到 <code>eBPF</code>。为了了解 <code>eBPF</code> 对 <code>Linux</code> 内核的可编程性影响，有助于对 <code>Linux</code> 内核的架构以及它如何与应用程序和硬件交互有一个高层次的了解。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc10.png" class="">
<p><code>Linux</code>内核的主要目的是抽象硬件或虚拟硬件并提供一致的<code>API</code>（系统调用），允许应用程序运行和共享资源。为了实现这一目标，需要维护大量的子系统和层来分配这些职责。每个子系统通常允许某种级别的配置来满足用户的不同需求。如果无法配置所需的行为，则需要更改内核，从历史上看，留下两个选项：</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc11.png" class="">
<p>借助 <code>eBPF</code>，可以使用一个新选项，允许对 <code>Linux</code> 内核的行为进行重新编程，而无需更改内核源代码或加载内核模块。在很多方面，这与 <code>JavaScript</code> 和其他脚本语言如何解锁系统的演变非常相似，而系统的改变变得困难或昂贵。</p>
<h5 id="开发工具链"><a href="#开发工具链" class="headerlink" title="开发工具链"></a>开发工具链</h5><p>存在多个开发工具链来协助 eBPF 程序的开发和管理。它们都满足用户的不同需求：</p>
<h6 id="bcc"><a href="#bcc" class="headerlink" title="bcc"></a>bcc</h6><p><code>BCC</code> 是一个框架，使用户能够编写嵌入了 <code>eBPF</code> 程序的 <code>python</code> 程序。该框架主要针对涉及应用程序和系统分析&#x2F;跟踪的用例，其中 <code>eBPF</code> 程序用于收集统计数据或生成事件，而用户空间中的对应程序则收集数据并以人类可读的形式显示数据。运行<code>python</code>程序将生成<code>eBPF</code>字节码并将其加载到内核中。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc12.png" class="">

<h6 id="bpftrace"><a href="#bpftrace" class="headerlink" title="bpftrace"></a>bpftrace</h6><p><code>bpftrace</code> 是一种适用于 <code>Linux eBPF</code> 的高级跟踪语言，可在半新的 <code>Linux</code> 内核 (4.x) 中使用。<code>bpftrace</code> 使用 <code>LLVM</code> 作为后端将脚本编译为 <code>eBPF</code> 字节码，并利用 <code>BCC</code> 与 <code>Linux eBPF</code> 子系统以及现有的 <code>Linux</code> 跟踪功能进行交互：内核动态跟踪 (<code>kprobes</code>)、用户级动态跟踪 (<code>uprobes</code>) 和跟踪点。<code>bpftrace</code> 语言受到 <code>awk、C</code> 和前身跟踪器（例如 <code>DTrace</code> 和 <code>SystemTap</code>）的启发。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc13.png" class="">

<h6 id="eBPF-Go-库"><a href="#eBPF-Go-库" class="headerlink" title="eBPF Go 库"></a>eBPF Go 库</h6><p><code>eBPF Go</code> 库提供了一个通用的 <code>eBPF</code> 库，它将获取 <code>eBPF</code> 字节码的过程与 <code>eBPF</code> 程序的加载和管理解耦。<code>eBPF</code> 程序通常是通过编写更高级的语言来创建的，然后使用 <code>clang/LLVM</code> 编译器编译为 <code>eBPF</code> 字节码。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc14.png" class="">

<h6 id="libbpf-C-C-库"><a href="#libbpf-C-C-库" class="headerlink" title="libbpf C&#x2F;C++ 库"></a>libbpf C&#x2F;C++ 库</h6><p><code>libbpf</code> 库是一个基于 <code>C/C++</code> 的通用 <code>eBPF</code> 库，它有助于将从 <code>clang/LLVM</code> 编译器生成的 <code>eBPF</code> 目标文件加载到内核中，并通过为应用程序提供易于使用的库 <code>API</code> 来抽象与 <code>BPF</code> 系统调用的交互。</p>
<img data-src="/2023/09/04/Cloud-Native/ebpf/ebpf_desc15.png" class="">

<mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -1.814ex;" xmlns="http://www.w3.org/2000/svg" width="7.174ex" height="4.851ex" role="img" focusable="false" viewBox="0 -1342 3171 2143.9" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-1-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-1-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-1-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-1-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(1335.5,676)"><use data-c="31" xlink:href="#MJX-1-TEX-N-31"></use></g><g data-mml-node="mrow" transform="translate(220,-719.9)"><g data-mml-node="msup"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-1-TEX-I-1D465"></use></g><g data-mml-node="mn" transform="translate(605,289) scale(0.707)"><use data-c="32" xlink:href="#MJX-1-TEX-N-32"></use></g></g><g data-mml-node="mo" transform="translate(1230.8,0)"><use data-c="2212" xlink:href="#MJX-1-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(2231,0)"><use data-c="31" xlink:href="#MJX-1-TEX-N-31"></use></g></g><rect width="2931" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container>

<h6 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h6><ul>
<li><a target="_blank" rel="noopener" href="https://cilium.readthedocs.io/en/stable/bpf/">BPF 和 XDP 参考指南</a></li>
<li><a target="_blank" rel="noopener" href="https://www.kernel.org/doc/html/latest/bpf/index.html">BPF 文档</a></li>
<li><a target="_blank" rel="noopener" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/bpf/bpf_design_QA.rst">BPF 设计问答</a></li>
</ul>
<h6 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h6><ul>
<li><a target="_blank" rel="noopener" href="http://www.brendangregg.com/blog/2019-01-01/learn-ebpf-tracing.html">学习 eBPF 跟踪：教程和示例</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/xdp-project/xdp-tutorial">XDP 实践教程</a></li>
<li><a target="_blank" rel="noopener" href="https://facebookmicrosites.github.io/bpf/blog/">BCC、libbpf 和 BPF CO-RE 教程</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>umbrella
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/" title="eBPF 介绍">https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/eBPF/" rel="tag"># eBPF</a>
              <a href="/tags/Cloud-Native/" rel="tag"># Cloud Native</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/08/30/Design-Patterns/%E4%B8%9A%E5%8A%A1%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/" rel="prev" title="基于业务驱动设计方法">
                  <i class="fa fa-chevron-left"></i> 基于业务驱动设计方法
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/12/22/Other/s3-design/" rel="next" title="S3 架构原理">
                  S3 架构原理 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">辽ICP备15012817号-2 </a>
  </div>
  <div class="copyright">
    &copy; 2022 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">umbrella</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">699k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">38:50</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/fresh88888888" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.8/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/comments.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/motion.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/next-boot.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/pjax.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/search/local-search.min.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.12/pdfobject.min.js","integrity":"sha256-g2xji1rlE3KsGVClvuxTbcR0Kn2+wtQADSff2Tbb4zA="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/tags/pdf.min.js"></script>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/fancybox.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/pace.min.js"></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":5000,"priority":true,"url":"https://fresh88888888.github.io/2023/09/04/Cloud-Native/ebpf/"}</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/quicklink.min.js"></script>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"fresh88888888.github.io","issue_term":"title","theme":"github-light"}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/comments/utterances.min.js"></script>

</body>
</html>
