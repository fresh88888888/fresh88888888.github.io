<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">
  <meta name="google-site-verification" content="lk2gSYFP_NyLNFob-fFnt7fm-I_n1ZYws-WZll7mshg">
  <meta name="msvalidate.01" content="6Jdc01DjYOLguhS5">
  <meta name="baidu-site-verification" content="code-NR10G09zww">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7Ccursive:300,300italic,400,400italic,700,700italic%7CSource+Code+Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/yellow/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"fresh88888888.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.17.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":true,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/local-search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":10,"unescape":false,"preload":true}}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/config.min.js"></script>

    <meta name="description" content="处理缺失值数据清理是数据科学的关键部分，但它可能会令人深感沮丧。为什么有些文本字段出现乱码？对于那些缺失的值你应该做什么？为什么您的日期格式不正确？如何快速清理不一致的数据输入？您将学习如何解决一些最常见的数据清理问题，以便您可以更快地分析数据。 您将使用真实、混乱的数据完成五个实践练习，并解决一些最常见的数据清理问题。">
<meta property="og:type" content="article">
<meta property="og:title" content="数据清理（Pandas）">
<meta property="og:url" content="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/index.html">
<meta property="og:site_name" content="UMBRELLA">
<meta property="og:description" content="处理缺失值数据清理是数据科学的关键部分，但它可能会令人深感沮丧。为什么有些文本字段出现乱码？对于那些缺失的值你应该做什么？为什么您的日期格式不正确？如何快速清理不一致的数据输入？您将学习如何解决一些最常见的数据清理问题，以便您可以更快地分析数据。 您将使用真实、混乱的数据完成五个实践练习，并解决一些最常见的数据清理问题。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/dc_1.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/dc_2.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/dc_3.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/dc_4.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/dc_5.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/dc_6.png">
<meta property="article:published_time" content="2024-03-26T01:20:32.000Z">
<meta property="article:modified_time" content="2024-03-26T01:20:32.000Z">
<meta property="article:author" content="umbrella">
<meta property="article:tag" content="AI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/dc_1.png">


<link rel="canonical" href="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/","path":"2024/03/26/artificial-intelligence/data_cleaning_study/","title":"数据清理（Pandas）"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>数据清理（Pandas） | UMBRELLA</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">UMBRELLA</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">未雨绸缪，举重若轻</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-算法"><a href="/Algorithm/" rel="section"><i class="fa fa-calendar fa-fw"></i>算法</a></li><li class="menu-item menu-item-c++-&nbsp;编程"><a href="/Programming-C++/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>C++ &nbsp;编程</a></li><li class="menu-item menu-item-rust-编程"><a href="/Programming-Rust/" rel="section"><i class="fa fa-cat fa-fw"></i>Rust 编程</a></li><li class="menu-item menu-item-go-&nbsp;&nbsp;&nbsp;编程"><a href="/Programming-Go/" rel="section"><i class="fa fa-hippo fa-fw"></i>Go &nbsp;&nbsp;&nbsp;编程</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="nav-number">1.</span> <span class="nav-text">处理缺失值</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%88%E7%9C%8B%E4%B8%80%E4%B8%8B%E6%95%B0%E6%8D%AE"><span class="nav-number">1.1.</span> <span class="nav-text">先看一下数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%88%91%E4%BB%AC%E6%9C%89%E5%A4%9A%E5%B0%91%E4%B8%AA%E7%BC%BA%E5%A4%B1%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%9F"><span class="nav-number">1.2.</span> <span class="nav-text">我们有多少个缺失的数据？</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%89%BE%E5%87%BA%E6%95%B0%E6%8D%AE%E4%B8%A2%E5%A4%B1%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="nav-number">1.3.</span> <span class="nav-text">找出数据丢失的原因</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="nav-number">1.4.</span> <span class="nav-text">删除缺失值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="nav-number">1.5.</span> <span class="nav-text">自动填充缺失值</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%A9%E6%94%BE%E5%92%8C%E6%A0%87%E5%87%86%E5%8C%96"><span class="nav-number">2.</span> <span class="nav-text">缩放和标准化</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83"><span class="nav-number">2.1.</span> <span class="nav-text">设置环境</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BC%A9%E6%94%BE%E4%B8%8E%E6%A0%87%E5%87%86%E5%8C%96%EF%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-number">2.2.</span> <span class="nav-text">缩放与标准化：有什么区别？</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BC%A9%E6%94%BE%EF%BC%88Scaling%EF%BC%89"><span class="nav-number">2.3.</span> <span class="nav-text">缩放（Scaling）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A0%87%E5%87%86%E5%8C%96%EF%BC%88Normalization%EF%BC%89"><span class="nav-number">2.4.</span> <span class="nav-text">标准化（Normalization）</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90%E6%97%A5%E6%9C%9F%EF%BC%88Parsing-Dates%EF%BC%89"><span class="nav-number">3.</span> <span class="nav-text">解析日期（Parsing Dates）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83-1"><span class="nav-number">3.1.</span> <span class="nav-text">设置环境</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E6%97%A5%E6%9C%9F%E5%88%97%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.2.</span> <span class="nav-text">检查日期列的数据类型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B0%86%E6%97%A5%E6%9C%9F%E5%88%97%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4"><span class="nav-number">3.3.</span> <span class="nav-text">将日期列转换为日期时间</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E8%AF%A5%E6%9C%88%E7%9A%84%E6%9F%90%E4%B8%80%E5%A4%A9"><span class="nav-number">3.4.</span> <span class="nav-text">选择该月的某一天</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BB%98%E5%88%B6%E8%AF%A5%E6%9C%88%E7%9A%84%E6%97%A5%E6%9C%9F%E6%9D%A5%E6%A3%80%E6%9F%A5%E6%97%A5%E6%9C%9F%E8%A7%A3%E6%9E%90"><span class="nav-number">3.5.</span> <span class="nav-text">绘制该月的日期来检查日期解析</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%EF%BC%88Character-Encodings%EF%BC%89"><span class="nav-number">4.</span> <span class="nav-text">字符编码（Character Encodings）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83-2"><span class="nav-number">4.1.</span> <span class="nav-text">设置环境</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BC%96%E7%A0%81%EF%BC%9F"><span class="nav-number">4.2.</span> <span class="nav-text">什么是编码？</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E6%9C%89%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98%E7%9A%84%E6%96%87%E4%BB%B6"><span class="nav-number">4.3.</span> <span class="nav-text">读取有编码问题的文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8UTF-8%E7%BC%96%E7%A0%81%E4%BF%9D%E5%AD%98%E6%96%87%E4%BB%B6"><span class="nav-number">4.4.</span> <span class="nav-text">使用UTF-8编码保存文件</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%8D%E4%B8%80%E8%87%B4%EF%BC%88Inconsistent-Data-Entry%EF%BC%89"><span class="nav-number">5.</span> <span class="nav-text">数据不一致（Inconsistent Data Entry）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83-3"><span class="nav-number">5.1.</span> <span class="nav-text">设置环境</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BF%9B%E8%A1%8C%E4%B8%80%E4%BA%9B%E5%88%9D%E6%AD%A5%E7%9A%84%E6%96%87%E6%9C%AC%E9%A2%84%E5%A4%84%E7%90%86"><span class="nav-number">5.2.</span> <span class="nav-text">进行一些初步的文本预处理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%A8%A1%E7%B3%8A%E5%8C%B9%E9%85%8D%E6%9D%A5%E7%BA%A0%E6%AD%A3%E4%B8%8D%E4%B8%80%E8%87%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5"><span class="nav-number">5.3.</span> <span class="nav-text">使用模糊匹配来纠正不一致的数据输入</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="umbrella"
      src="/avatar.jpeg">
  <p class="site-author-name" itemprop="name">umbrella</p>
  <div class="site-description" itemprop="description">没事就多看看书</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">171</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/fresh88888888" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;fresh88888888" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:fresh888888@foxmail.com" title="E-Mail → mailto:fresh888888@foxmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://www.rust-lang.org/zh-CN/" title="https:&#x2F;&#x2F;www.rust-lang.org&#x2F;zh-CN&#x2F;" rel="noopener" target="_blank">Rust</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://go.dev/" title="https:&#x2F;&#x2F;go.dev&#x2F;" rel="noopener" target="_blank">Golang</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://isocpp.org/" title="https:&#x2F;&#x2F;isocpp.org&#x2F;" rel="noopener" target="_blank">C++</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.python.org/" title="https:&#x2F;&#x2F;www.python.org&#x2F;" rel="noopener" target="_blank">Python</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://doc.rust-lang.org/cargo/index.html" title="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;index.html" rel="noopener" target="_blank">Cargo</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://gist.github.com/rxaviers/7360908" title="https:&#x2F;&#x2F;gist.github.com&#x2F;rxaviers&#x2F;7360908" rel="noopener" target="_blank">Emoji</a>
            </li>
        </ul>
      </div>
    </div>
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpeg">
      <meta itemprop="name" content="umbrella">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UMBRELLA">
      <meta itemprop="description" content="没事就多看看书">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="数据清理（Pandas） | UMBRELLA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          数据清理（Pandas）
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-03-26 09:20:32" itemprop="dateCreated datePublished" datetime="2024-03-26T09:20:32+08:00">2024-03-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" itemprop="url" rel="index"><span itemprop="name">人工智能</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>6.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>23 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h4 id="处理缺失值"><a href="#处理缺失值" class="headerlink" title="处理缺失值"></a>处理缺失值</h4><p>数据清理是数据科学的关键部分，但它可能会令人深感沮丧。为什么有些文本字段出现乱码？对于那些缺失的值你应该做什么？为什么您的日期格式不正确？如何快速清理不一致的数据输入？您将学习如何解决一些最常见的数据清理问题，以便您可以更快地分析数据。 您将使用真实、混乱的数据完成五个实践练习，并解决一些最常见的数据清理问题。</p>
<span id="more"></span>
<h5 id="先看一下数据"><a href="#先看一下数据" class="headerlink" title="先看一下数据"></a>先看一下数据</h5><p>我们需要做的第一件事是加载我们将使用的库和数据集。为了进行演示，我们将使用美式橄榄球比赛中发生的事件的数据集。在以下练习中，您将把新技能应用于旧金山颁发的建筑许可证数据集。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># modules we&#x27;ll use</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># read in all our data</span></span><br><span class="line">nfl_data = pd.read_csv(<span class="string">&quot;../input/nflplaybyplay2009to2016/NFL Play by Play 2009-2017 (v4).csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set seed for reproducibility</span></span><br><span class="line">np.random.seed(<span class="number">0</span>) </span><br></pre></td></tr></table></figure>
<p>当您获得新数据集时要做的第一件事就是查看其中的内容。这可以让您正确读取所有内容，并了解数据的情况。在这种情况下，让我们看看是否有任何缺失值，这些值将用<code>NaN</code>或<code>None</code>表示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># look at the first five rows of the nfl_data file. </span></span><br><span class="line"><span class="comment"># I can see a handful of missing data already!</span></span><br><span class="line">nfl_data.head()</span><br></pre></td></tr></table></figure>
<img data-src="/2024/03/26/artificial-intelligence/data_cleaning_study/dc_1.png" class="">

<h5 id="我们有多少个缺失的数据？"><a href="#我们有多少个缺失的数据？" class="headerlink" title="我们有多少个缺失的数据？"></a>我们有多少个缺失的数据？</h5><p>现在我们知道我们确实有一些缺失值。让我们看看每列中有多少个。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get the number of missing data points per column</span></span><br><span class="line">missing_values_count = nfl_data.isnull().<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># look at the # of missing points in the first ten columns</span></span><br><span class="line">missing_values_count[<span class="number">0</span>:<span class="number">10</span>]</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Date                0</span><br><span class="line">GameID              0</span><br><span class="line">Drive               0</span><br><span class="line">qtr                 0</span><br><span class="line">down            61154</span><br><span class="line">time              224</span><br><span class="line">TimeUnder           0</span><br><span class="line">TimeSecs          224</span><br><span class="line">PlayTimeDiff      444</span><br><span class="line">SideofField       528</span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<p>看起来好像很多啊！查看数据集中缺失的值的百分比可能会有所帮助，以便我们更好地了解此问题的规模：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># how many total missing values do we have?</span></span><br><span class="line">total_cells = np.product(nfl_data.shape)</span><br><span class="line">total_missing = missing_values_count.<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># percent of data that is missing</span></span><br><span class="line">percent_missing = (total_missing/total_cells) * <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(percent_missing)</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.87214126835169</span><br></pre></td></tr></table></figure>
<p>这个数据集中几乎四分之一的单元格是空的！在下一步中，我们将仔细查看一些缺少值的列，并尝试找出它们可能发生的情况。</p>
<h5 id="找出数据丢失的原因"><a href="#找出数据丢失的原因" class="headerlink" title="找出数据丢失的原因"></a>找出数据丢失的原因</h5><p>让我们来看一个例子。查看<code>nfl_data</code>数据框中缺失值的数量，我注意到“<code>TimesSec</code>”列中有很多缺失值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># look at the # of missing points in the first ten columns</span></span><br><span class="line">missing_values_count[<span class="number">0</span>:<span class="number">10</span>]</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Date                0</span><br><span class="line">GameID              0</span><br><span class="line">Drive               0</span><br><span class="line">qtr                 0</span><br><span class="line">down            61154</span><br><span class="line">time              224</span><br><span class="line">TimeUnder           0</span><br><span class="line">TimeSecs          224</span><br><span class="line">PlayTimeDiff      444</span><br><span class="line">SideofField       528</span><br><span class="line">dtype: int64</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>通过查看文档，我可以看到该列包含有关游戏进行时剩余秒数的信息。这意味着这些值可能丢失，因为它们没有被记录，而不是因为它们不存在。因此，我们尝试猜测它们应该是什么而不是仅仅将它们保留为<code>NA</code>。另一方面，还有其他字段，例如“<code>PenalizedTeam</code>”，也有很多缺失字段。但在这种情况下，该字段缺失，因为如果没有处罚，那么说哪支球队受到处罚就没有意义。对于此列，将其留空或添加第三个值（例如“两者都不是”）并使用它来替换<code>NA</code>会更有意义。</p>
<div class="note info"><p><strong>提示</strong>：如果您还没有阅读数据集文档，这是一个阅读数据集文档的好地方！ 如果您正在使用从其他人那里获得的数据集，您也可以尝试联系他们以获取更多信息。</p>
</div>
<p>如果您正在进行非常仔细的数据分析，此时您需要单独查看每一列，以找出填充这些缺失值的最佳策略。</p>
<h5 id="删除缺失值"><a href="#删除缺失值" class="headerlink" title="删除缺失值"></a>删除缺失值</h5><p>如果您很着急或没有找出值缺失的原因，您可以选择删除包含缺失值的任何行或列。如果您确定要删除缺少值的行，<code>pandas</code>确实有一个方便的函数<code>dropna()</code>来帮助您执行此操作。让我们在<code>NFL</code>数据集上尝试一下！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># remove all the rows that contain a missing value</span></span><br><span class="line">nfl_data.dropna()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># remove all columns with at least one missing value</span></span><br><span class="line">columns_with_na_dropped = nfl_data.dropna(axis=<span class="number">1</span>)</span><br><span class="line">columns_with_na_dropped.head()</span><br></pre></td></tr></table></figure>
<p>我们一共丢失了多少数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># just how much data did we lose?</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Columns in original dataset: %d \n&quot;</span> % nfl_data.shape[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Columns with na&#x27;s dropped: %d&quot;</span> % columns_with_na_dropped.shape[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Columns <span class="keyword">in</span> original dataset: 102 </span><br><span class="line">Columns with na<span class="string">&#x27;s dropped: 41</span></span><br></pre></td></tr></table></figure>
<p>我们丢失了相当多的数据，但此时我们已经成功地从数据中删除了所有<code>NaN</code>。</p>
<h5 id="自动填充缺失值"><a href="#自动填充缺失值" class="headerlink" title="自动填充缺失值"></a>自动填充缺失值</h5><p>另一种选择是尝试填写缺失的值。对于接下来的部分，我将获取<code>NFL</code>数据的一小部分，以便它可以很好地打印。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get a small subset of the NFL dataset</span></span><br><span class="line">subset_nfl_data = nfl_data.loc[:, <span class="string">&#x27;EPA&#x27;</span>:<span class="string">&#x27;Season&#x27;</span>].head()</span><br><span class="line">subset_nfl_data</span><br></pre></td></tr></table></figure>
<p>我们可以使用<code>Panda</code>的<code>fillna()</code>函数来填充数据框中的缺失值。我们的一种选择是指定我们想要用什么来替换<code>NaN</code>值。在这里，我想说的是我想用<code>0</code>替换所有<code>NaN</code>值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># replace all NA&#x27;s with 0</span></span><br><span class="line">subset_nfl_data.fillna(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p>我还可以更精明一点，用同一列中紧随其后的任何值替换缺失值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># replace all NA&#x27;s the value that comes directly after it in the same column, </span></span><br><span class="line"><span class="comment"># then replace all the remaining na&#x27;s with 0</span></span><br><span class="line">subset_nfl_data.fillna(method=<span class="string">&#x27;bfill&#x27;</span>, axis=<span class="number">0</span>).fillna(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<img data-src="/2024/03/26/artificial-intelligence/data_cleaning_study/dc_2.png" class="">

<h4 id="缩放和标准化"><a href="#缩放和标准化" class="headerlink" title="缩放和标准化"></a>缩放和标准化</h4><h5 id="设置环境"><a href="#设置环境" class="headerlink" title="设置环境"></a>设置环境</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># modules we&#x27;ll use</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># for Box-Cox Transformation</span></span><br><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> stats</span><br><span class="line"></span><br><span class="line"><span class="comment"># for min_max scaling</span></span><br><span class="line"><span class="keyword">from</span> mlxtend.preprocessing <span class="keyword">import</span> minmax_scaling</span><br><span class="line"></span><br><span class="line"><span class="comment"># plotting modules</span></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># set seed for reproducibility</span></span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h5 id="缩放与标准化：有什么区别？"><a href="#缩放与标准化：有什么区别？" class="headerlink" title="缩放与标准化：有什么区别？"></a>缩放与标准化：有什么区别？</h5><p>缩放和标准化之间很容易混淆的原因之一:是因为这些术语有时可以互换使用，而且更令人困惑的是，它们非常相似！在这两种情况下，您都会转换数值变量的值，以便转换后的数据点具有特定的有用属性。不同之处在于：</p>
<ul>
<li>在缩放中，您正在更改数据的范围。</li>
<li>在标准化过程中，您正在改变数据分布的形状。</li>
</ul>
<p>让我们更深入地讨论一下每个选项。</p>
<h5 id="缩放（Scaling）"><a href="#缩放（Scaling）" class="headerlink" title="缩放（Scaling）"></a>缩放（Scaling）</h5><p>这意味着您正在转换数据，使其适合特定的范围，例如<code>0-100</code>或<code>0-1</code>。当您使用基于数据点距离度量的方法（例如支持向量机(<code>SVM</code>)或<code>k</code>最近邻(<code>KNN</code>)）时，您需要缩放数据。使用这些算法，任何数字特征中“<code>1</code>”的变化都被赋予相同的重要性。例如，您可能会查看某些产品的日元和美元价格。<code>1</code>美元大约值<code>100</code>日元，但如果你不调整价格，<code>SVM</code>或<code>KNN</code>等方法会认为<code>1</code>日元的价格差异与<code>1</code>美元的差异一样重要！这显然不符合我们对世界的直觉。使用货币，您可以在货币之间进行转换。但是如果您要查看身高和体重之类的数据怎么办？目前尚不完全清楚多少磅应等于一英寸（或多少公斤应等于一米）。通过缩放变量，您可以帮助在平等的基础上比较不同的变量。为了帮助巩固缩放的外观，让我们看一个虚构的示例。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># generate 1000 data points randomly drawn from an exponential distribution</span></span><br><span class="line">original_data = np.random.exponential(size=<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># mix-max scale the data between 0 and 1</span></span><br><span class="line">scaled_data = minmax_scaling(original_data, columns=[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot both together to compare</span></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">15</span>, <span class="number">3</span>))</span><br><span class="line">sns.histplot(original_data, ax=ax[<span class="number">0</span>], kde=<span class="literal">True</span>, legend=<span class="literal">False</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&quot;Original Data&quot;</span>)</span><br><span class="line">sns.histplot(scaled_data, ax=ax[<span class="number">1</span>], kde=<span class="literal">True</span>, legend=<span class="literal">False</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&quot;Scaled data&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img data-src="/2024/03/26/artificial-intelligence/data_cleaning_study/dc_3.png" class="">

<div class="note warning"><p><strong>请注意</strong>，数据的形状没有改变，但范围不再是<code>0</code>到<code>8</code>，而是现在的范围是 <code>0</code>到<code>1</code>。</p>
</div>

<h5 id="标准化（Normalization）"><a href="#标准化（Normalization）" class="headerlink" title="标准化（Normalization）"></a>标准化（Normalization）</h5><p>缩放只会改变数据的范围。<strong>标准化</strong>是一种更彻底的转变。标准化的目的是改变您的观察结果，以便将它们描述为<strong>正态分布</strong>。正态分布：也称为“<strong>钟形曲线</strong>”，这是一种特定的统计分布，其中大致相等的观测值落在平均值之上和之下，平均值和中位数相同，并且接近平均值的观测值较多。正态分布也称为<strong>高斯分布</strong>。一般来说，如果您要使用假设数据呈正态分布的机器学习或统计技术，则需要对数据进行标准化。其中的一些示例包括<strong>线性判别分析</strong>(<code>LDA</code>)和<strong>高斯朴素贝叶斯</strong>。（专业提示：名称中带有“高斯”的任何方法都可能假设正态分布。）我们在这里用来标准化的方法称为<code>Box-Cox</code>变换。让我们快速浏览一下一些数据的标准化是什么样子的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># normalize the exponential data with boxcox</span></span><br><span class="line">normalized_data = stats.boxcox(original_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot both together to compare</span></span><br><span class="line">fig, ax=plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">15</span>, <span class="number">3</span>))</span><br><span class="line">sns.histplot(original_data, ax=ax[<span class="number">0</span>], kde=<span class="literal">True</span>, legend=<span class="literal">False</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&quot;Original Data&quot;</span>)</span><br><span class="line">sns.histplot(normalized_data[<span class="number">0</span>], ax=ax[<span class="number">1</span>], kde=<span class="literal">True</span>, legend=<span class="literal">False</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&quot;Normalized data&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img data-src="/2024/03/26/artificial-intelligence/data_cleaning_study/dc_4.png" class="">

<div class="note warning"><p><strong>请注意</strong>，我们的数据形状已经改变。在<strong>标准化</strong>之前它几乎是<strong>L形</strong>的。但标准化后，它看起来更像<strong>钟形的轮廓</strong>（因此称为“<strong>钟形曲线</strong>”）。</p>
</div>

<h4 id="解析日期（Parsing-Dates）"><a href="#解析日期（Parsing-Dates）" class="headerlink" title="解析日期（Parsing Dates）"></a>解析日期（Parsing Dates）</h4><h5 id="设置环境-1"><a href="#设置环境-1" class="headerlink" title="设置环境"></a>设置环境</h5><p>我们需要做的第一件事是加载我们将使用的库和数据集。我们将使用包含<code>2007</code>年至<code>2016</code>年期间发生的山体滑坡信息的数据集。在下面的练习中，您将把新技能应用于全球地震数据集。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># modules we&#x27;ll use</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="comment"># read in our data</span></span><br><span class="line">landslides = pd.read_csv(<span class="string">&quot;../input/landslide-events/catalog.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set seed for reproducibility</span></span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h5 id="检查日期列的数据类型"><a href="#检查日期列的数据类型" class="headerlink" title="检查日期列的数据类型"></a>检查日期列的数据类型</h5><p>我们首先查看数据的前五行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">landslides.head()</span><br></pre></td></tr></table></figure>
<p>我们将使用<code>landslides</code>数据框中的“日期”列。让我们确保它实际上看起来包含日期。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print the first few rows of the date column</span></span><br><span class="line"><span class="built_in">print</span>(landslides[<span class="string">&#x27;date&#x27;</span>].head())</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">0     3/2/07</span><br><span class="line">1    3/22/07</span><br><span class="line">2     4/6/07</span><br><span class="line">3    4/14/07</span><br><span class="line">4    4/15/07</span><br><span class="line">Name: <span class="built_in">date</span>, dtype: object</span><br></pre></td></tr></table></figure>
<p>请注意，在<code>head()</code>输出的底部，您可以看到该列的数据类型是“<code>object</code>”。<code>Pandas</code>使用“<code>object</code>”数据类型来存储各种类型的数据类型，但大多数情况下，当您看到数据类型为“<code>object</code>”的列时，它会包含字符串。如果您在此处查看<code>pandas dtype</code>文档，您会注意到还有一个特定的<code>datetime64 dtypes</code>。因为我们列的数据类型是<code>object</code>而不是<code>datetime64</code>，所以我们可以看出<code>Python</code>不知道该列包含日期。我们还可以只查看列的<code>dtype</code>，而不打印前几行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># check the data type of our date column</span></span><br><span class="line">landslides[<span class="string">&#x27;date&#x27;</span>].dtype</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dtype(<span class="string">&#x27;O&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>您可能需要检查<code>numpy</code>文档以将字母代码与对象的数据类型相匹配。“<code>O</code>”是“<code>object</code>”的代码，所以我们可以看到这两个方法给了我们相同的信息。</p>
<h5 id="将日期列转换为日期时间"><a href="#将日期列转换为日期时间" class="headerlink" title="将日期列转换为日期时间"></a>将日期列转换为日期时间</h5><p>现在，我们知道我们的日期列并未被视为日期，现在将其转换为日期了，以便将其视为日期。这称为“<strong>解析日期</strong>”，因为我们正在使用一个字符串并识别其组件部分。我们可以通过称为“<code>Strftime</code>指令”的指南来确定日期的格式，您可以在此链接中找到更多信息。基本思想是，您需要指出日期的哪些部分在哪里以及它们之间的标点符号是什么。日期有很多可能的部分，但最常见的是一天<code>％d</code>，一个月的<code>％m</code>，两位数的<code>％y</code>和四位数的<code>％y</code>。</p>
<ul>
<li><code>1/17/07</code>的格式为“<code>%m/%d/%y</code>”。</li>
<li><code>17-1-2007</code>的格式为“<code>%d-%m-%Y</code>”。</li>
</ul>
<p>回顾一下山体滑坡数据集中“日期”列的头部，我们可以看到它的格式是“月&#x2F;日&#x2F;两位数年份”，因此我们可以使用与第一个示例相同的语法来解析我们的日期。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># create a new column, date_parsed, with the parsed dates</span></span><br><span class="line">landslides[<span class="string">&#x27;date_parsed&#x27;</span>] = pd.to_datetime(landslides[<span class="string">&#x27;date&#x27;</span>], <span class="built_in">format</span>=<span class="string">&quot;%m/%d/%y&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>现在，当我检查新列的前几行时，我可以看到<code>dtype</code>是<code>datetime64</code>。我还可以看到我的日期已稍微重新排列，以便它们符合默认顺序日期时间对象（<code>year-month-day</code>）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print the first few rows</span></span><br><span class="line">landslides[<span class="string">&#x27;date_parsed&#x27;</span>].head()</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">0   2007-03-02</span><br><span class="line">1   2007-03-22</span><br><span class="line">2   2007-04-06</span><br><span class="line">3   2007-04-14</span><br><span class="line">4   2007-04-15</span><br><span class="line">Name: date_parsed, dtype: datetime64[ns]</span><br></pre></td></tr></table></figure>
<p>现在我们的日期已正确解析，我们可以以有用的方式与它们交互。</p>
<ul>
<li>如果我遇到多种日期格式错误怎么办？虽然我们在此处指定日期格式，但有时当单列中有多种日期格式时，您会遇到错误。如果发生这种情况，您可以让<code>pandas</code>尝试推断正确的日期格式应该是什么。你可以这样做：<code>landslides[&#39;date_parsed&#39;] = pd.to_datetime(landslides[&#39;Date&#39;], infer_datetime_format=True)</code>。</li>
<li>为什么不总是使用<code>infer_datetime_format = True</code>？不总是让<code>pandas</code>猜测时间格式有两个重要原因。首先，<code>pandas</code>并不总是能够找出正确的日期格式，特别是如果有人在数据输入方面发挥了创意。第二个是它比指定日期的确切格式慢得多。</li>
</ul>
<h5 id="选择该月的某一天"><a href="#选择该月的某一天" class="headerlink" title="选择该月的某一天"></a>选择该月的某一天</h5><p>现在我们有一列已解析的日期，我们可以提取信息，例如山体滑坡发生的月份中的哪一天。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get the day of the month from the date_parsed column</span></span><br><span class="line">day_of_month_landslides = landslides[<span class="string">&#x27;date_parsed&#x27;</span>].dt.day</span><br><span class="line">day_of_month_landslides.head()</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">0     2.0</span><br><span class="line">1    22.0</span><br><span class="line">2     6.0</span><br><span class="line">3    14.0</span><br><span class="line">4    15.0</span><br><span class="line">Name: date_parsed, dtype: float64</span><br></pre></td></tr></table></figure>
<p>如果我们尝试从原始“日期”列中获取相同的信息，我们会收到错误：<code>AttributeError</code>：只能将<code>.dt</code>访问器与类似日期时间的值一起使用。这是因为<code>dt.day</code>不知道如何处理数据类型为“<code>object</code>”的列。尽管我们的数据帧中有日期，但我们必须先解析它们，然后才能以有用的方式与它们交互。</p>
<h5 id="绘制该月的日期来检查日期解析"><a href="#绘制该月的日期来检查日期解析" class="headerlink" title="绘制该月的日期来检查日期解析"></a>绘制该月的日期来检查日期解析</h5><p>解析日期的最大危险之一是混淆月份和日期。<code>to_datetime()</code>函数确实有非常有用的错误消息，但仔细检查我们提取的月份中的日期是否有意义也没有什么坏处。为此，我们绘制该月各天的直方图。我们预计它的值在<code>1</code>到<code>31</code>之间，并且由于没有理由认为山体滑坡在每月的某些日子比其他日子更常见，因此分布相对均匀。（<code>31</code>日有所下降，因为并非所有月份都有<code>31</code>天。）让我们看看情况是否如此：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># remove na&#x27;s</span></span><br><span class="line">day_of_month_landslides = day_of_month_landslides.dropna()</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot the day of the month</span></span><br><span class="line">sns.distplot(day_of_month_landslides, kde=<span class="literal">False</span>, bins=<span class="number">31</span>)</span><br></pre></td></tr></table></figure>
<img data-src="/2024/03/26/artificial-intelligence/data_cleaning_study/dc_5.png" class="">

<p>看起来我们确实正确解析了日期，并且这张图对我来说很有意义。</p>
<h4 id="字符编码（Character-Encodings）"><a href="#字符编码（Character-Encodings）" class="headerlink" title="字符编码（Character Encodings）"></a>字符编码（Character Encodings）</h4><h5 id="设置环境-2"><a href="#设置环境-2" class="headerlink" title="设置环境"></a>设置环境</h5><p>我们需要做的第一件事是加载我们将使用的库。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># modules we&#x27;ll use</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># helpful character encoding module</span></span><br><span class="line"><span class="keyword">import</span> charset_normalizer</span><br><span class="line"></span><br><span class="line"><span class="comment"># set seed for reproducibility</span></span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h5 id="什么是编码？"><a href="#什么是编码？" class="headerlink" title="什么是编码？"></a>什么是编码？</h5><p><strong>字符编码</strong>是从原始二进制字节字符串（如下所示：<code>0110100001101001</code>）映射到构成人类可读文本的字符（如“<code>hi</code>”）的特定规则集。有许多不同的编码，如果您尝试使用与最初编写的编码不同的编码来读取文本，您最终会得到称为“<code>mojibake</code>”的乱序文本（如<code>mo-gee-bah-kay</code>）。这是<code>mojibake</code>的示例：<code>æ–‡å—åŒ–ã??</code>您也可能会遇到“未知”字符。当您用来读取字节字符串的编码中的特定字节和字符之间没有映射时，会打印一些内容，它们看起来像这样：<code>����������</code>如今，字符编码不匹配的情况比以前少见了，但这仍然是一个问题。有许多不同的字符编码，但您需要了解的主要一种是<code>UTF-8</code>。<code>UTF-8</code>是标准文本编码。所有<code>Python</code>代码均采用<code>UTF-8</code>格式，理想情况下，所有数据也应采用<code>UTF-8</code>格式。当内容不是<code>UTF-8</code>时，您就会遇到麻烦。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># start with a string</span></span><br><span class="line">before = <span class="string">&quot;This is the euro symbol: €&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># check to see what datatype it is</span></span><br><span class="line"><span class="built_in">type</span>(before)</span><br><span class="line"><span class="comment"># str</span></span><br></pre></td></tr></table></figure>
<p>另一种数据是字节数据类型，它是整数序列。您可以通过指定字符串的编码将字符串转换为字节：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># encode it to a different encoding, replacing characters that raise errors</span></span><br><span class="line">after = before.encode(<span class="string">&quot;utf-8&quot;</span>, errors=<span class="string">&quot;replace&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># check the type</span></span><br><span class="line"><span class="built_in">type</span>(after)</span><br><span class="line"><span class="comment"># bytes</span></span><br></pre></td></tr></table></figure>
<p>如果您查看<code>bytes</code>对象，您会发现它前面有一个<code>b</code>，后面可能还有一些文本。这是因为字节被打印出来，就好像它们是用<code>ASCII</code>编码的字符一样。（<code>ASCII</code>是一种较旧的字符编码，实际上不适用于编写英语以外的任何语言。）在这里您可以看到我们的欧元符号已被一些打印时看起来像“<code>\xe2\x82\xac</code>”的<code>mojibake</code>所取代 就像它是一个<code>ASCII</code>字符串一样。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">after</span><br><span class="line"><span class="comment"># b&#x27;This is the euro symbol: \xe2\x82\xac&#x27;</span></span><br></pre></td></tr></table></figure>
<p>当我们将字节转换回具有正确编码的字符串时，我们可以看到我们的文本都正确:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># convert it back to utf-8</span></span><br><span class="line"><span class="built_in">print</span>(after.decode(<span class="string">&quot;utf-8&quot;</span>))</span><br><span class="line"><span class="comment"># This is the euro symbol: €</span></span><br></pre></td></tr></table></figure>
<p>但是，当我们尝试使用不同的编码将字节映射到字符串时，我们会收到错误。这是因为我们尝试使用的编码不知道如何处理我们尝试传递的字节。您需要告诉<code>Python</code>字节字符串实际应该采用的编码。您可以将不同的编码视为录制音乐的不同方式。您可以将相同的音乐录制在<code>CD</code>、盒式磁带或<code>8</code>轨上。虽然音乐听起来或多或少相同，但您需要使用正确的设备来播放每种录音格式的音乐。正确的解码器就像磁带播放器或<code>CD</code>播放器。如果您尝试在<code>CD</code>播放器中播放盒式磁带，它就无法工作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># try to decode our bytes with the ascii encoding</span></span><br><span class="line"><span class="built_in">print</span>(after.decode(<span class="string">&quot;ascii&quot;</span>))</span><br></pre></td></tr></table></figure>
<p>错误输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line">UnicodeDecodeError                        Traceback (most recent call last)</span><br><span class="line">/tmp/ipykernel_19/27547290.py <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">      1 <span class="comment"># try to decode our bytes with the ascii encoding</span></span><br><span class="line">----&gt; 2 <span class="built_in">print</span>(after.decode(<span class="string">&quot;ascii&quot;</span>))</span><br><span class="line"></span><br><span class="line">UnicodeDecodeError: <span class="string">&#x27;ascii&#x27;</span> codec can<span class="string">&#x27;t decode byte 0xe2 in position 25: ordinal not in range(128)</span></span><br></pre></td></tr></table></figure>
<p>如果我们尝试使用错误的编码从字符串映射到字节，我们也会遇到麻烦。正如我之前所说，<code>Python 3</code>中的字符串默认为<code>UTF-8</code>，因此如果我们尝试像使用其他编码一样对待它们，就会产生问题。例如，如果我们尝试使用<code>encode()</code>将字符串转换为<code>ASCII</code>字节，我们可以要求字节为<code>ASCII</code>时的字节。不过，由于我们的文本不是<code>ASCII</code>格式的，因此会有一些它无法处理的字符。我们可以自动替换<code>ASCII</code>无法处理的字符。但是，如果我们这样做，任何非<code>ASCII</code>字符都将被替换为未知字符。然后，当我们将字节转换回字符串时，该字符将被替换为<strong>未知字符</strong>。这样做的危险之处在于，无法判断它应该是哪个。这意味着我们可能使我们的数据无法使用！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># start with a string</span></span><br><span class="line">before = <span class="string">&quot;This is the euro symbol: €&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># encode it to a different encoding, replacing characters that raise errors</span></span><br><span class="line">after = before.encode(<span class="string">&quot;ascii&quot;</span>, errors = <span class="string">&quot;replace&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># convert it back to utf-8</span></span><br><span class="line"><span class="built_in">print</span>(after.decode(<span class="string">&quot;ascii&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># We&#x27;ve lost the original underlying byte string! It&#x27;s been </span></span><br><span class="line"><span class="comment"># replaced with the underlying byte string for the unknown character :(</span></span><br></pre></td></tr></table></figure>
<p>这很糟糕，我们想避免这样做！最好尽快将所有文本转换为<code>UTF-8</code>并保留该编码。</p>
<h5 id="读取有编码问题的文件"><a href="#读取有编码问题的文件" class="headerlink" title="读取有编码问题的文件"></a>读取有编码问题的文件</h5><p>您遇到的大多数文件可能都是用<code>UTF-8</code>编码的。这是<code>Python</code>默认所期望的，所以大多数时候你不会遇到问题。但是，有时您会收到如下错误:</p>
<div class="note warning"><p><strong>请注意</strong>，当我们尝试将<code>UTF-8</code>字节解码为<code>ASCII</code>时，我们得到了相同的<code>UnicodeDecodeError！</code>，这告诉我们这个文件实际上不是<code>UTF-8</code>。但我们不知道它实际上是什么编码。解决这个问题的一种方法是尝试测试一堆不同的字符编码，看看它们是否有效。不过，更好的方法是使用<code>charset_normalizer</code>模块来尝试自动猜测正确的编码是什么。它不能<code>100%</code>保证正确，但通常比仅仅尝试猜测要快。</p>
</div>
<p>我将只查看该文件的前一万个字节。这通常足以很好地猜测编码是什么，并且比尝试查看整个文件要快得多。（特别是对于大文件，这可能会非常慢。）仅查看文件第一部分的另一个原因是，通过查看错误消息，我们可以看到第一个问题是第<code>11</code>个字符。所以我们可能只需要查看文件的靠前一点的数据，就可以弄清楚发生了什么。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># look at the first ten thousand bytes to guess the character encoding</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;../input/kickstarter-projects/ks-projects-201801.csv&quot;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> rawdata:</span><br><span class="line">    result = charset_normalizer.detect(rawdata.read(<span class="number">10000</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># check what the character encoding might be</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;encoding&#x27;</span>: <span class="string">&#x27;utf-8&#x27;</span>, <span class="string">&#x27;language&#x27;</span>: <span class="string">&#x27;English&#x27;</span>, <span class="string">&#x27;confidence&#x27;</span>: 1.0&#125;</span><br></pre></td></tr></table></figure>
<p>因此<code>charset_normalizer</code>分析后的正确编码为“<code>Windows-1252</code>”的<strong>置信度</strong>为<code>73%</code>。让我们看看这是否正确：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># read in the file with the encoding detected by charset_normalizer</span></span><br><span class="line">kickstarter_2016 = pd.read_csv(<span class="string">&quot;../input/kickstarter-projects/ks-projects-201612.csv&quot;</span>, encoding=<span class="string">&#x27;Windows-1252&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># look at the first few lines</span></span><br><span class="line">kickstarter_2016.head()</span><br></pre></td></tr></table></figure>
<p>看起来<code>charset_normalizer</code>分析是对的！该文件读入没有问题（尽管我们确实收到了有关数据类型的警告），并且当我们查看前几行时，它似乎没问题。如果<code>charset_normalizer</code>猜测的编码不正确怎么办？由于<code>charset_normalizer</code>基本上只是一个花哨的猜测器，有时它会猜测错误。您可以尝试的一件事是查看或多或少的文件，看看是否得到不同的结果，然后尝试。</p>
<h5 id="使用UTF-8编码保存文件"><a href="#使用UTF-8编码保存文件" class="headerlink" title="使用UTF-8编码保存文件"></a>使用UTF-8编码保存文件</h5><p>最后，一旦您经历了将文件转换为<code>UTF-8</code>的所有麻烦，您可能会希望保持这种状态。最简单的方法是使用<code>UTF-8</code>编码保存文件。好消息是，由于<code>UTF-8</code>是<code>Python</code>的标准编码，因此当您保存文件时，它会默认保存为<code>UTF-8</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># save our file (will be saved as UTF-8 by default!)</span></span><br><span class="line">kickstarter_2016.to_csv(<span class="string">&quot;ks-projects-201801-utf8.csv&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="数据不一致（Inconsistent-Data-Entry）"><a href="#数据不一致（Inconsistent-Data-Entry）" class="headerlink" title="数据不一致（Inconsistent Data Entry）"></a>数据不一致（Inconsistent Data Entry）</h4><h5 id="设置环境-3"><a href="#设置环境-3" class="headerlink" title="设置环境"></a>设置环境</h5><p>我们需要做的第一件事是加载我们将使用的库和数据集。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># modules we&#x27;ll use</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># helpful modules</span></span><br><span class="line"><span class="keyword">import</span> fuzzywuzzy</span><br><span class="line"><span class="keyword">from</span> fuzzywuzzy <span class="keyword">import</span> process</span><br><span class="line"><span class="keyword">import</span> charset_normalizer</span><br><span class="line"></span><br><span class="line"><span class="comment"># read in all our data</span></span><br><span class="line">professors = pd.read_csv(<span class="string">&quot;../input/pakistan-intellectual-capital/pakistan_intellectual_capital.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set seed for reproducibility</span></span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h5 id="进行一些初步的文本预处理"><a href="#进行一些初步的文本预处理" class="headerlink" title="进行一些初步的文本预处理"></a>进行一些初步的文本预处理</h5><p>我们首先快速浏览一下数据的前几行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">professors.head()</span><br></pre></td></tr></table></figure>
<img data-src="/2024/03/26/artificial-intelligence/data_cleaning_study/dc_6.png" class="">

<p>假设我们有兴趣清理“国家&#x2F;地区”列，以确保其中不存在数据输入不一致的情况。当然，我们可以手动检查每一行，并在发现不一致时手动更正它们。不过，有一种更有效的方法可以做到这一点！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get all the unique values in the &#x27;Country&#x27; column</span></span><br><span class="line">countries = professors[<span class="string">&#x27;Country&#x27;</span>].unique()</span><br><span class="line"></span><br><span class="line"><span class="comment"># sort them alphabetically and then take a closer look</span></span><br><span class="line">countries.sort()</span><br><span class="line">countries</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="string">&#x27; Germany&#x27;</span>, <span class="string">&#x27; New Zealand&#x27;</span>, <span class="string">&#x27; Sweden&#x27;</span>, <span class="string">&#x27; USA&#x27;</span>, <span class="string">&#x27;Australia&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Austria&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;China&#x27;</span>, <span class="string">&#x27;Finland&#x27;</span>, <span class="string">&#x27;France&#x27;</span>, <span class="string">&#x27;Greece&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;HongKong&#x27;</span>, <span class="string">&#x27;Ireland&#x27;</span>, <span class="string">&#x27;Italy&#x27;</span>, <span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;Macau&#x27;</span>, <span class="string">&#x27;Malaysia&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Mauritius&#x27;</span>, <span class="string">&#x27;Netherland&#x27;</span>, <span class="string">&#x27;New Zealand&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>, <span class="string">&#x27;Pakistan&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Portugal&#x27;</span>, <span class="string">&#x27;Russian Federation&#x27;</span>, <span class="string">&#x27;Saudi Arabia&#x27;</span>, <span class="string">&#x27;Scotland&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Singapore&#x27;</span>, <span class="string">&#x27;South Korea&#x27;</span>, <span class="string">&#x27;SouthKorea&#x27;</span>, <span class="string">&#x27;Spain&#x27;</span>, <span class="string">&#x27;Sweden&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Thailand&#x27;</span>, <span class="string">&#x27;Turkey&#x27;</span>, <span class="string">&#x27;UK&#x27;</span>, <span class="string">&#x27;USA&#x27;</span>, <span class="string">&#x27;USofA&#x27;</span>, <span class="string">&#x27;Urbana&#x27;</span>, <span class="string">&#x27;germany&#x27;</span>],</span><br><span class="line">      dtype=object)</span><br></pre></td></tr></table></figure>
<p>只要看一下这个，我就可以看到由于数据输入不一致而导致的一些问题：例如“<code>Germany</code>”和“<code>germany</code>”，或者“<code>New Zealand</code>”和“<code>New Zealand</code>”。我要做的第一件事是将所有内容都变成小写（如果我愿意，我可以在末尾将其更改回来）并删除单元格开头和结尾处的所有空格。大写和尾随空格的不一致在文本数据中非常常见，通过执行此操作，您可以修复<code>80%</code>的文本数据输入不一致问题。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># convert to lower case</span></span><br><span class="line">professors[<span class="string">&#x27;Country&#x27;</span>] = professors[<span class="string">&#x27;Country&#x27;</span>].<span class="built_in">str</span>.lower()</span><br><span class="line"><span class="comment"># remove trailing white spaces</span></span><br><span class="line">professors[<span class="string">&#x27;Country&#x27;</span>] = professors[<span class="string">&#x27;Country&#x27;</span>].<span class="built_in">str</span>.strip()</span><br></pre></td></tr></table></figure>
<p>接下来我们将解决更困难的不一致问题。</p>
<h5 id="使用模糊匹配来纠正不一致的数据输入"><a href="#使用模糊匹配来纠正不一致的数据输入" class="headerlink" title="使用模糊匹配来纠正不一致的数据输入"></a>使用模糊匹配来纠正不一致的数据输入</h5><p>让我们再看一下“国家&#x2F;地区”列，看看是否还需要进行更多的数据清理。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get all the unique values in the &#x27;Country&#x27; column</span></span><br><span class="line">countries = professors[<span class="string">&#x27;Country&#x27;</span>].unique()</span><br><span class="line"></span><br><span class="line"><span class="comment"># sort them alphabetically and then take a closer look</span></span><br><span class="line">countries.sort()</span><br><span class="line">countries</span><br></pre></td></tr></table></figure>
<p>看起来确实存在另一个不一致之处：“<code>southkorea</code>”和“<code>south korea</code>”应该是相同的。我们将使用<code>fuzzywuzzy</code>包来帮助识别哪些字符串彼此最接近。这个数据集足够小，我们可能可以手动纠正错误，但这种方法不能很好地扩展。<strong>模糊匹配</strong>：自动查找与目标字符串非常相似的文本字符串的过程。一般来说，如果将一个字符串转换为另一个字符串，则需要更改的字符越少，则认为一个字符串与另一个字符串“越接近”。因此，“<code>apple</code>”和“<code>snapple</code>”彼此相距两个变化（添加“<code>s</code>”和“<code>n</code>”），而“<code>in</code>”和“<code>on</code>”则相距一个变化（将“<code>i</code>”替换为“<code>o</code>”）。您并不总是能够<code>100%</code>依赖模糊匹配，但它通常最终会至少为您节省一点时间。<code>Fuzzywuzzy</code>返回给定两个字符串的比率。该比率越接近100，两个字符串之间的编辑距离越小。在这里，我们将从距离“韩国”最近的城市列表中获取十个字符串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get the top 10 closest matches to &quot;south korea&quot;</span></span><br><span class="line">matches = fuzzywuzzy.process.extract(<span class="string">&quot;south korea&quot;</span>, countries, limit=<span class="number">10</span>, scorer=fuzzywuzzy.fuzz.token_sort_ratio)</span><br><span class="line"></span><br><span class="line"><span class="comment"># take a look at them</span></span><br><span class="line">matches</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[(<span class="string">&#x27;south korea&#x27;</span>, 100),</span><br><span class="line"> (<span class="string">&#x27;southkorea&#x27;</span>, 48),</span><br><span class="line"> (<span class="string">&#x27;saudi arabia&#x27;</span>, 43),</span><br><span class="line"> (<span class="string">&#x27;norway&#x27;</span>, 35),</span><br><span class="line"> (<span class="string">&#x27;austria&#x27;</span>, 33),</span><br><span class="line"> (<span class="string">&#x27;ireland&#x27;</span>, 33),</span><br><span class="line"> (<span class="string">&#x27;pakistan&#x27;</span>, 32),</span><br><span class="line"> (<span class="string">&#x27;portugal&#x27;</span>, 32),</span><br><span class="line"> (<span class="string">&#x27;scotland&#x27;</span>, 32),</span><br><span class="line"> (<span class="string">&#x27;australia&#x27;</span>, 30)]</span><br></pre></td></tr></table></figure>
<p>我们可以看到城市中有两个项目与“<code>south korea</code>”非常接近：“<code>south korea</code>”和“<code>southkorea</code>”。 让我们将“<code>Country</code>”列中比率<code>&gt; 47</code>的所有行替换为“<code>south korea</code>”。为此，我将编写一个函数。（如果您认为可能需要多次执行特定任务，那么编写一个可以重用的通用函数是一个好主意。这可以使您不必过于频繁地复制和粘贴代码，从而节省时间并可以帮助您 防止错误。）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># function to replace rows in the provided column of the provided dataframe</span></span><br><span class="line"><span class="comment"># that match the provided string above the provided ratio with the provided string</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">replace_matches_in_column</span>(<span class="params">df, column, string_to_match, min_ratio = <span class="number">47</span></span>):</span><br><span class="line">    <span class="comment"># get a list of unique strings</span></span><br><span class="line">    strings = df[column].unique()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># get the top 10 closest matches to our input string</span></span><br><span class="line">    matches = fuzzywuzzy.process.extract(string_to_match, strings, </span><br><span class="line">                                         limit=<span class="number">10</span>, scorer=fuzzywuzzy.fuzz.token_sort_ratio)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># only get matches with a ratio &gt; 90</span></span><br><span class="line">    close_matches = [matches[<span class="number">0</span>] <span class="keyword">for</span> matches <span class="keyword">in</span> matches <span class="keyword">if</span> matches[<span class="number">1</span>] &gt;= min_ratio]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># get the rows of all the close matches in our dataframe</span></span><br><span class="line">    rows_with_matches = df[column].isin(close_matches)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># replace all rows with close matches with the input matches </span></span><br><span class="line">    df.loc[rows_with_matches, column] = string_to_match</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># let us know the function&#x27;s done</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;All done!&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>现在我们有了一个函数，我们可以对其进行测试！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># use the function we just wrote to replace close matches to &quot;south korea&quot; with &quot;south korea&quot;</span></span><br><span class="line">replace_matches_in_column(df=professors, column=<span class="string">&#x27;Country&#x27;</span>, string_to_match=<span class="string">&quot;south korea&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>现在，让我们再次检查“国家&#x2F;地区”列中的唯一值，并确保我们已正确处理了“韩国”。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get all the unique values in the &#x27;Country&#x27; column</span></span><br><span class="line">countries = professors[<span class="string">&#x27;Country&#x27;</span>].unique()</span><br><span class="line"></span><br><span class="line"><span class="comment"># sort them alphabetically and then take a closer look</span></span><br><span class="line">countries.sort()</span><br><span class="line">countries</span><br></pre></td></tr></table></figure>
<p>结果输出为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="string">&#x27;australia&#x27;</span>, <span class="string">&#x27;austria&#x27;</span>, <span class="string">&#x27;canada&#x27;</span>, <span class="string">&#x27;china&#x27;</span>, <span class="string">&#x27;finland&#x27;</span>, <span class="string">&#x27;france&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;germany&#x27;</span>, <span class="string">&#x27;greece&#x27;</span>, <span class="string">&#x27;hongkong&#x27;</span>, <span class="string">&#x27;ireland&#x27;</span>, <span class="string">&#x27;italy&#x27;</span>, <span class="string">&#x27;japan&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;macau&#x27;</span>, <span class="string">&#x27;malaysia&#x27;</span>, <span class="string">&#x27;mauritius&#x27;</span>, <span class="string">&#x27;netherland&#x27;</span>, <span class="string">&#x27;new zealand&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;norway&#x27;</span>, <span class="string">&#x27;pakistan&#x27;</span>, <span class="string">&#x27;portugal&#x27;</span>, <span class="string">&#x27;russian federation&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;saudi arabia&#x27;</span>, <span class="string">&#x27;scotland&#x27;</span>, <span class="string">&#x27;singapore&#x27;</span>, <span class="string">&#x27;south korea&#x27;</span>, <span class="string">&#x27;spain&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;sweden&#x27;</span>, <span class="string">&#x27;thailand&#x27;</span>, <span class="string">&#x27;turkey&#x27;</span>, <span class="string">&#x27;uk&#x27;</span>, <span class="string">&#x27;urbana&#x27;</span>, <span class="string">&#x27;usa&#x27;</span>, <span class="string">&#x27;usofa&#x27;</span>],</span><br><span class="line">      dtype=object)</span><br></pre></td></tr></table></figure>
<p>现在我们的数据框中只有“韩国”，我们不需要手动更改任何内容。</p>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>umbrella
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/" title="数据清理（Pandas）">https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/AI/" rel="tag"># AI</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/03/25/artificial-intelligence/transfer_learning_study/" rel="prev" title="迁移学习（TensorFlow & Keras）">
                  <i class="fa fa-chevron-left"></i> 迁移学习（TensorFlow & Keras）
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/03/27/artificial-intelligence/game_ai_study/" rel="next" title="游戏AI & 强化学习">
                  游戏AI & 强化学习 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">辽ICP备15012817号-2 </a>
  </div>
  <div class="copyright">
    &copy; 2022 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">umbrella</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">709k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">39:22</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/fresh88888888" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.8/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/comments.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/motion.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/next-boot.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/pjax.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/search/local-search.min.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.12/pdfobject.min.js","integrity":"sha256-g2xji1rlE3KsGVClvuxTbcR0Kn2+wtQADSff2Tbb4zA="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/tags/pdf.min.js"></script>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/fancybox.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/pace.min.js"></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":5000,"priority":true,"url":"https://fresh88888888.github.io/2024/03/26/artificial-intelligence/data_cleaning_study/"}</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/quicklink.min.js"></script>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"fresh88888888.github.io","issue_term":"title","theme":"github-light"}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/comments/utterances.min.js"></script>

</body>
</html>
