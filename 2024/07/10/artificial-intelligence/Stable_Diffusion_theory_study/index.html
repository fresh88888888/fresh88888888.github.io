<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">
  <meta name="google-site-verification" content="lk2gSYFP_NyLNFob-fFnt7fm-I_n1ZYws-WZll7mshg">
  <meta name="msvalidate.01" content="6Jdc01DjYOLguhS5">
  <meta name="baidu-site-verification" content="code-NR10G09zww">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7Ccursive:300,300italic,400,400italic,700,700italic%7CSource+Code+Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/yellow/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"fresh88888888.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.17.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":true,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/local-search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":10,"unescape":false,"preload":true}}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/config.min.js"></script>

    <meta name="description" content="Stable Diffusion是一种基于扩散模型的文本到图像深度学习模型。该模型于2022年推出，由慕尼黑大学CompViz集团开发。基本功能：文本到图像生成:根据文字描述生成高质量图像；图像编辑:支持内补绘制、外补绘制等图像编辑功能；图像到图像转换:在提示词指导下修改现有图像。技术架构：使用潜在扩散模型(Latent Diffusion Model)；由三部分组成:变分自编码器(VAE)、U-">
<meta property="og:type" content="article">
<meta property="og:title" content="Stable Diffusion模型—探析（PyTorch）">
<meta property="og:url" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/index.html">
<meta property="og:site_name" content="UMBRELLA">
<meta property="og:description" content="Stable Diffusion是一种基于扩散模型的文本到图像深度学习模型。该模型于2022年推出，由慕尼黑大学CompViz集团开发。基本功能：文本到图像生成:根据文字描述生成高质量图像；图像编辑:支持内补绘制、外补绘制等图像编辑功能；图像到图像转换:在提示词指导下修改现有图像。技术架构：使用潜在扩散模型(Latent Diffusion Model)；由三部分组成:变分自编码器(VAE)、U-">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_1.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_2.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_3.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_4.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_5.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_6.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_7.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_8.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_9.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_10.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_11.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_12.png">
<meta property="og:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_13.png">
<meta property="article:published_time" content="2024-07-10T10:00:11.000Z">
<meta property="article:modified_time" content="2024-07-10T10:00:11.000Z">
<meta property="article:author" content="umbrella">
<meta property="article:tag" content="AI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_1.png">


<link rel="canonical" href="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/","path":"2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/","title":"Stable Diffusion模型—探析（PyTorch）"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Stable Diffusion模型—探析（PyTorch） | UMBRELLA</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">UMBRELLA</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">未雨绸缪，举重若轻</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-算法"><a href="/Algorithm/" rel="section"><i class="fa fa-calendar fa-fw"></i>算法</a></li><li class="menu-item menu-item-c++-&nbsp;编程"><a href="/Programming-C++/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>C++ &nbsp;编程</a></li><li class="menu-item menu-item-rust-编程"><a href="/Programming-Rust/" rel="section"><i class="fa fa-cat fa-fw"></i>Rust 编程</a></li><li class="menu-item menu-item-go-&nbsp;&nbsp;&nbsp;编程"><a href="/Programming-Go/" rel="section"><i class="fa fa-hippo fa-fw"></i>Go &nbsp;&nbsp;&nbsp;编程</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#U-Net"><span class="nav-number">1.</span> <span class="nav-text">U-Net</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E7%BC%96%E7%A0%81%E5%99%A8"><span class="nav-number">2.</span> <span class="nav-text">自编码器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E6%9C%AC%E8%BD%AC%E5%9B%BE%E5%83%8F-%E6%9E%B6%E6%9E%84"><span class="nav-number">3.</span> <span class="nav-text">文本转图像-架构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E8%BD%AC%E5%9B%BE%E5%83%8F-%E6%9E%B6%E6%9E%84"><span class="nav-number">4.</span> <span class="nav-text">图像转图像-架构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E4%BF%AE%E5%A4%8D-%E6%9E%B6%E6%9E%84"><span class="nav-number">5.</span> <span class="nav-text">图像修复-架构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%82%E5%BD%92%E4%B8%80%E5%8C%96"><span class="nav-number">6.</span> <span class="nav-text">层归一化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%84%E5%BD%92%E4%B8%80%E5%8C%96"><span class="nav-number">7.</span> <span class="nav-text">组归一化</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="umbrella"
      src="/avatar.jpeg">
  <p class="site-author-name" itemprop="name">umbrella</p>
  <div class="site-description" itemprop="description">没事就多看看书</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">226</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/fresh88888888" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;fresh88888888" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:fresh888888@foxmail.com" title="E-Mail → mailto:fresh888888@foxmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://www.rust-lang.org/zh-CN/" title="https:&#x2F;&#x2F;www.rust-lang.org&#x2F;zh-CN&#x2F;" rel="noopener" target="_blank">Rust</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://go.dev/" title="https:&#x2F;&#x2F;go.dev&#x2F;" rel="noopener" target="_blank">Golang</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://isocpp.org/" title="https:&#x2F;&#x2F;isocpp.org&#x2F;" rel="noopener" target="_blank">C++</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.python.org/" title="https:&#x2F;&#x2F;www.python.org&#x2F;" rel="noopener" target="_blank">Python</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://doc.rust-lang.org/cargo/index.html" title="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;index.html" rel="noopener" target="_blank">Cargo</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://gist.github.com/rxaviers/7360908" title="https:&#x2F;&#x2F;gist.github.com&#x2F;rxaviers&#x2F;7360908" rel="noopener" target="_blank">Emoji</a>
            </li>
        </ul>
      </div>
    </div>
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpeg">
      <meta itemprop="name" content="umbrella">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UMBRELLA">
      <meta itemprop="description" content="没事就多看看书">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Stable Diffusion模型—探析（PyTorch） | UMBRELLA">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Stable Diffusion模型—探析（PyTorch）
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-10 18:00:11" itemprop="dateCreated datePublished" datetime="2024-07-10T18:00:11+08:00">2024-07-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" itemprop="url" rel="index"><span itemprop="name">人工智能</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>13 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><code>Stable Diffusion</code>是一种基于扩散模型的文本到图像深度学习模型。该模型于<code>2022</code>年推出，由慕尼黑大学<code>CompViz</code>集团开发。<strong>基本功能</strong>：文本到图像生成:根据文字描述生成高质量图像；图像编辑:支持内补绘制、外补绘制等图像编辑功能；图像到图像转换:在提示词指导下修改现有图像。<strong>技术架构</strong>：使用潜在扩散模型(<code>Latent Diffusion Model</code>)；由三部分组成:变分自编码器(<code>VAE</code>)、<code>U-Net</code>和文本编码器；在潜在空间中进行扩散过程,提高计算效率。<strong>性能</strong>：生成<code>512x512</code>分辨率的图像(<code>2.0</code>版本支持<code>768x768</code>)；相对轻量级,<code>U-Net</code>有<code>860M</code>参数,文本编码器有<code>123M</code>参数。<code>Stable Diffusion</code>的出现标志着AI图像生成技术的重要进步,为创意工作者和普通用户提供了强大的工具。</p>
<span id="more"></span>

<p>什么是生成模型？生成模型会学习数据集的概率分布，这样我们就可以从该分布中抽样以创建新的数据实例。例如，如果我们有很多猫的图片，并且我们用它训练生成模型，那么我们就可以从这个分布中抽样以创建新的猫图像。为什么我们要将数据建模为分布？假设你是一个罪犯，你想生成数千个虚假身份。每个虚假身份都由变量组成，代表一个人的特征（年龄、身高）。你可以要求政府统计部门提供有关人口年龄和身高的统计数据，然后从这些分布中抽样。</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_1.png" class="">

<p>首先，你可以从每个分布中独立抽样来创建一个虚假身份，但这会产生不合理的（年龄，身高）对。要生成有意义的虚假身份，你需要联合分布，否则你最终可能会得到一对不合理的（年龄，身高）。我们还可以使用条件概率或通过边缘化变量来评估两个变量之一的概率。我们有一个由图像组成的数据集，我们想要学习一个非常复杂的分布，然后可以用来进行采样。</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_2.png" class="">

<p><strong>证据下界</strong>(<code>Evidence Lower Bound, ELBO</code>)是<strong>变分贝叶斯方法</strong>中的一个重要概念，用于估计观测数据对数似然的下限。<code>ELBO</code>是一个用于<strong>近似后验分布</strong>的工具。在贝叶斯推理中，我们通常对后验分布感兴趣，但直接计算后验分布通常是不可行，因为需要计算证据（即观测数据的边缘似然），这在大多数情况下是不可计算的。<code>ELBO</code>提供了一种变分方法，通过优化一个易处理的下界来近似后验分布。<code>ELBO</code>在许多概率推理算法中起着核心作用，如<strong>期望最大化</strong>(<code>EM</code>)算法和变分推理。具体应用包括：<strong>变分自编码器</strong>(<code>VAE</code>):用于生成模型，学习数据的潜在表示；<strong>贝叶斯神经网络</strong>:用于不确定性估计和模型正则化。</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_3.png" class="">

<h4 id="U-Net"><a href="#U-Net" class="headerlink" title="U-Net"></a>U-Net</h4><p><code>U-Net</code>是一种用于图像分割的卷积神经网络架构,最初由弗赖堡大学的研究人员在<code>2015</code>年提出,主要用于生物医学图像分割。<code>U-Net</code>的结构呈<code>U</code>形,由两个主要部分组成:</p>
<ul>
<li><strong>下采样路径</strong>(编码器)：由多个卷积层和池化层组成；逐步减小特征图的空间维度,增加通道数；提取图像的高级特征。</li>
<li><strong>上采样路径</strong>(解码器)：由转置卷积(反卷积)层组成；逐步恢复特征图的空间维度；结合下采样路径的特征,实现精确定位。</li>
</ul>
<p>主要优势：高精度分割:<code>U-Net</code>能够产生精确的分割结果,特别适用于医学图像；少量样本训练:相比其他网络,<code>U-Net</code>可以使用较少的训练样本达到良好效果；快速处理:在现代<code>GPU</code>上,<code>U-Net</code>可以在<code>1</code>秒内完成<code>512×512</code>图像的分割；灵活性:<code>U-Net</code>结构简单,易于修改和扩展,适应不同任务需求。</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_4.png" class="">

<p>如何调节<strong>逆向过程</strong>？既然我们从保留过程中的噪声开始，那么模型如何知道我们想要的输出是什么？模型如何理解我们的提示？这就是为什么我们需要调节逆向过程。如果我们想要调节我们的网络，我们可以训练一个模型来学习数据和调节信号<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="6.178ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2730.7 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-35-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path id="MJX-35-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-35-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-35-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-35-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-35-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45D" xlink:href="#MJX-35-TEX-I-1D45D"></use></g><g data-mml-node="mo" transform="translate(503,0)"><use data-c="28" xlink:href="#MJX-35-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(892,0)"><use data-c="1D465" xlink:href="#MJX-35-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(1464,0)"><use data-c="2C" xlink:href="#MJX-35-TEX-N-2C"></use></g><g data-mml-node="mi" transform="translate(1908.7,0)"><use data-c="1D450" xlink:href="#MJX-35-TEX-I-1D450"></use></g><g data-mml-node="mo" transform="translate(2341.7,0)"><use data-c="29" xlink:href="#MJX-35-TEX-N-29"></use></g></g></g></svg></mjx-container>的联合分布，然后从这个联合分布中采样。然而，这需要为每个单独的调节信号训练一个模型。另一种方法称为<strong>分类器指导</strong>，涉及训练一个单独的模型来调节 输出。最新和最成功的方法称为<strong>无分类器指导</strong>，其中，我们不是训练两个网络，一个条件网络和一个非条件网络，而是训练一个网络，并在训练期间，以一定的概率将条件信号设置为零，这样网络就变成了条件网络和非条件网络的混合，我们可以将条件输出和非条件输出与权重结合起来，该权重表示我们希望网络对条件信号的关注程度。</p>
<p>无分类器指导（组合输出）：</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_5.png" class="">

<p><code>CLIP</code>(<code>Contrastive Language-Image Pre-training</code>)是由<code>OpenAI</code>在<code>2021</code>年提出的一种多模态深度学习模型,主要用于连接图像和文本。<code>CLIP</code>的核心思想是通过对大量图像-文本对进行预训练,学习一个统一的多模态嵌入空间,使得相关的图像和文本在这个空间中距离更近,而不相关的则距离更远。<code>CLIP</code>由两个主要组件构成：<strong>图像编码器</strong>: 可以是<code>ResNet</code>或<code>Vision Transformer</code>(<code>ViT</code>)；<strong>文本编码器</strong>: 基于<code>Transformer</code>架构。主要优势：零样本学习能力: <code>CLIP</code>可以直接用于未见过的类别,无需额外微调；灵活性: 可以处理各种视觉任务,如分类、检索等；大规模预训练: 在包含<code>4</code>亿(图像,文本)对的数据集上训练,学习了广泛的视觉概念；多模态理解: 能够理解图像和文本之间的关系。</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_6.png" class="">

<p>由于潜在变量的维度（向量大小）与原始数据相同，如果我们想执行许多步骤来对图像进行去噪，那么将需要通过<code>Unet</code>执行许多步骤，如果表示我们的数据&#x2F;潜在变量的矩阵很大，则这可能会非常慢。如果我们可以在正向&#x2F;反向过程(<code>UNet</code>)之前“压缩”我们的数据，结果会怎样？</p>
<p><code>Latent Diffusion Model</code>(<code>LDM</code>)是一种用于高分辨率图像合成的深度学习模型,由<code>Robin Rombach</code>等人在<code>2021</code>年提出。<code>LDM</code>的核心思想是将<strong>扩散模型</strong>(<code>Diffusion Model</code>)应用于预训练自编码器的潜在空间,而不是直接在像素空间上操作。这种方法大大降低了计算复杂度,同时保持了高质量的图像生成能力。<code>LDM</code>主要由三个部分组成：<strong>预训练的自编码器</strong>: 通常是一个<strong>向量量化变分自编码器</strong>(<code>VQ-VAE</code>),用于将图像压缩到低维潜在空间；<strong>U-Net扩散模型</strong>: 在潜在空间中进行去噪过程；<strong>条件编码器</strong>: 用于处理文本、布局等条件信息(在条件生成任务中使用)。工作原理：图像首先通过自编码器压缩到潜在空间；扩散模型在潜在空间中学习去噪过程；生成时,从随机噪声开始,逐步去噪得到潜在表示；最后通过自编码器的解码器将潜在表示转换回图像。主要优势：<strong>计算效率</strong>: 相比直接在像素空间的扩散模型,<code>LDM</code>大大减少了计算需求；<strong>灵活性</strong>: 可以应用于多种任务,如无条件生成、文本到图像、图像修复等；<strong>高质量输出</strong>: 在多个任务上达到了当时的最先进水平；<strong>可控性</strong>: 通过引入交叉注意力层,可以灵活地接受各种条件输入。</p>
<p><code>LDM</code>为后续的<code>Stable Diffusion</code>等模型奠定了基础,极大地推动了<code>AI</code>图像生成领域的发展。它在保持高质量输出的同时,显著降低了计算需求,使得在有限计算资源下训练强大的生成模型成为可能。总之,<code>Latent Diffusion Model</code>通过巧妙地结合<strong>自编码器</strong>和<strong>扩散模型</strong>,在计算效率和生成质量之间取得了很好的平衡,为高分辨率图像合成提供了一个强大而灵活的框架。</p>
<p><strong>稳定扩散</strong>是一种潜在<strong>扩散模型</strong>，在该模型中，我们不会学习图像数据集的分布<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.192ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 1853 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-34-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path id="MJX-34-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-34-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-34-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45D" xlink:href="#MJX-34-TEX-I-1D45D"></use></g><g data-mml-node="mo" transform="translate(503,0)"><use data-c="28" xlink:href="#MJX-34-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(892,0)"><use data-c="1D465" xlink:href="#MJX-34-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(1464,0)"><use data-c="29" xlink:href="#MJX-34-TEX-N-29"></use></g></g></g></svg></mjx-container>，而是使用<strong>变分自动编码器</strong>来学习数据的潜在表示的分布。这使我们能够减少执行生成样本所需步骤的计算，因为每个数据不是由<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="9.553ex" height="1.557ex" role="img" focusable="false" viewBox="0 -666 4222.4 688" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-33-TEX-N-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path><path id="MJX-33-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-33-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-33-TEX-N-D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><use data-c="35" xlink:href="#MJX-33-TEX-N-35"></use><use data-c="31" xlink:href="#MJX-33-TEX-N-31" transform="translate(500,0)"></use><use data-c="32" xlink:href="#MJX-33-TEX-N-32" transform="translate(1000,0)"></use></g><g data-mml-node="mo" transform="translate(1722.2,0)"><use data-c="D7" xlink:href="#MJX-33-TEX-N-D7"></use></g><g data-mml-node="mn" transform="translate(2722.4,0)"><use data-c="35" xlink:href="#MJX-33-TEX-N-35"></use><use data-c="31" xlink:href="#MJX-33-TEX-N-31" transform="translate(500,0)"></use><use data-c="32" xlink:href="#MJX-33-TEX-N-32" transform="translate(1000,0)"></use></g></g></g></svg></mjx-container>的图像表示，而是由其潜在表示（即<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="7.291ex" height="1.581ex" role="img" focusable="false" viewBox="0 -677 3222.4 699" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-33-TEX-N-36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path><path id="MJX-33-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path id="MJX-33-TEX-N-D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><use data-c="36" xlink:href="#MJX-33-TEX-N-36"></use><use data-c="34" xlink:href="#MJX-33-TEX-N-34" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(1222.2,0)"><use data-c="D7" xlink:href="#MJX-33-TEX-N-D7"></use></g><g data-mml-node="mn" transform="translate(2222.4,0)"><use data-c="36" xlink:href="#MJX-33-TEX-N-36"></use><use data-c="34" xlink:href="#MJX-33-TEX-N-34" transform="translate(500,0)"></use></g></g></g></svg></mjx-container>）表示。</p>
<h4 id="自编码器"><a href="#自编码器" class="headerlink" title="自编码器"></a>自编码器</h4><p><strong>自编码器</strong>(<code>Autoencoder</code>)是一种无监督学习的神经网络模型,主要用于数据压缩、特征学习和生成任务。自编码器由两个主要部分组成：</p>
<ul>
<li><strong>编码器</strong>(<code>Encoder</code>): 将输入数据压缩到一个低维表示(称为潜在空间或瓶颈层)。</li>
<li><strong>解码器</strong>(<code>Decoder</code>): 尝试从压缩的表示重构原始输入。</li>
</ul>
<p><strong>工作原理</strong>：输入数据通过编码器被压缩到潜在空间；解码器尝试从潜在表示重构原始输入；网络通过最小化重构误差来训练,即使重构的输出尽可能接近原始输入。主要类型：<strong>普通自编码器</strong>: 最基本的形式,用于数据压缩和特征学习；<strong>去噪自编码器</strong>(<code>DAE</code>): 通过向输入添加噪声并尝试重构原始无噪声数据来提高鲁棒性；<strong>变分自编码器</strong>(<code>VAE</code>): 在潜在空间引入概率分布,能够生成新的样本；<strong>稀疏自编码器</strong>: 在训练过程中加入稀疏性约束,学习更有意义的特征。<strong>堆叠自编码器</strong>: 将多个自编码器堆叠在一起,用于深度特征学习。</p>
<p>该模型学习到的代码毫无意义。也就是说，该模型可以将任意向量分配给输入，而向量中的数字不代表任何模式。该模型不会捕获数据之间的任何语义关系。</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_7.png" class="">

<p><strong>变分自编码器</strong>(<code>VAE</code>)：变分自动编码器不是学习代码，而是学习“<strong>潜在空间</strong>”。潜在空间表示（多变量）分布的参数。</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_8.png" class="">

<h4 id="文本转图像-架构"><a href="#文本转图像-架构" class="headerlink" title="文本转图像-架构"></a>文本转图像-架构</h4><p><code>Text-to-Image</code>模型是一种机器学习模型，能够根据输入的自然语言描述生成与之匹配的图像。<code>Text-to-Image</code>模型通常由两个主要部分组成：</p>
<ul>
<li><strong>文本编码器</strong>(<code>Text Encoder</code>)：将输入的文本描述转换为潜在表示(<code>latent representation</code>)；常见的文本编码器包括基于<code>Transformer</code>的模型，如<code>BERT</code>或<code>GPT</code>。</li>
<li><strong>图像生成器</strong>(<code>Image Generator</code>)：根据文本编码器生成的潜在表示生成图像；常用的图像生成器包括生成对抗网络(<code>GANs</code>)和扩散模型(<code>Diffusion Models</code>)。</li>
</ul>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_9.png" class="">

<p><strong>工作原理</strong>：</p>
<ul>
<li><strong>文本编码</strong>：输入的文本描述首先通过文本编码器转换为潜在表示。这一步骤可以使用循环神经网络(<code>LSTM</code>)或<code>Transformer</code>模型。</li>
<li><strong>图像生成</strong>：图像生成器根据潜在表示生成图像。早期的方法主要使用条件生成对抗网络(<code>Conditional GANs</code>)，而近年来扩散模型(<code>Diffusion Models</code>)变得越来越流行。</li>
<li><strong>多阶段生成</strong>：为了生成高分辨率图像，常用的方法是先生成低分辨率图像，然后使用一个或多个辅助模型进行超分辨率处理，填充细节。</li>
</ul>
<h4 id="图像转图像-架构"><a href="#图像转图像-架构" class="headerlink" title="图像转图像-架构"></a>图像转图像-架构</h4><p><code>Image-to-Image</code>模型是一种将输入图像转换为目标图像的深度学习模型。<code>Image-to-Image</code>模型通常由两个主要部分组成：</p>
<ul>
<li><strong>编码器</strong>(<code>Encoder</code>)：将输入图像编码为潜在表示(<code>latent representation</code>)；通常使用卷积神经网络(<code>CNN</code>)来提取图像特征。</li>
<li><strong>解码器</strong>(<code>Decoder</code>)：将潜在表示解码为目标图像；常用的解码器包括转置卷积(<code>transposed convolution</code>)或上采样(<code>upsampling</code>)层。</li>
</ul>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_10.png" class="">

<h4 id="图像修复-架构"><a href="#图像修复-架构" class="headerlink" title="图像修复-架构"></a>图像修复-架构</h4><p><code>In-Painting</code>（图像修复）是一种图像处理技术，旨在填补图像中缺失或损坏的部分。<code>In-Painting</code>模型通常由以下部分组成：</p>
<ul>
<li><strong>编码器</strong>(<code>Encoder</code>)：将输入的不完整图像编码为特征表示；通常使用卷积神经网络(<code>CNN</code>)来提取图像特征。</li>
<li><strong>解码器</strong>(<code>Decoder</code>)：将特征表示解码为完整的修复图像；常用上采样或转置卷积层来生成修复区域。</li>
<li><strong>注意力机制</strong>(<code>Attention Mechanism</code>)：用于关注需要修复的区域和周围的上下文信息。</li>
</ul>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_11.png" class="">

<h4 id="层归一化"><a href="#层归一化" class="headerlink" title="层归一化"></a>层归一化</h4><p><code>Layer Normalization</code>是一种用于深度神经网络的<strong>归一化</strong>技术,主要用于改善网络训练的稳定性和收敛速度。<code>Layer Normalization</code>的核心思想是对每个样本的特征进行独立的归一化,而不是像<code>Batch Normalization</code>那样对整个批次的数据进行归一化。</p>
<mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.76ex;" xmlns="http://www.w3.org/2000/svg" width="24.792ex" height="6.063ex" role="img" focusable="false" viewBox="0 -1460 10957.9 2680" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-32-TEX-I-1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-32-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-32-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-32-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-32-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path><path id="MJX-32-TEX-N-5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path><path id="MJX-32-TEX-N-5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path><path id="MJX-32-TEX-SO-221A" d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z"></path><path id="MJX-32-TEX-N-56" d="M114 620Q113 621 110 624T107 627T103 630T98 632T91 634T80 635T67 636T48 637H19V683H28Q46 680 152 680Q273 680 294 683H305V637H284Q223 634 223 620Q223 618 313 372T404 126L490 358Q575 588 575 597Q575 616 554 626T508 637H503V683H512Q527 680 627 680Q718 680 724 683H730V637H723Q648 637 627 596Q627 595 515 291T401 -14Q396 -22 382 -22H374H367Q353 -22 348 -14Q346 -12 231 303Q114 617 114 620Z"></path><path id="MJX-32-TEX-N-61" d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z"></path><path id="MJX-32-TEX-N-72" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z"></path><path id="MJX-32-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-32-TEX-I-1D716" d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z"></path><path id="MJX-32-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-32-TEX-I-1D6FE" d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z"></path><path id="MJX-32-TEX-I-1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D466" xlink:href="#MJX-32-TEX-I-1D466"></use></g><g data-mml-node="mo" transform="translate(767.8,0)"><use data-c="3D" xlink:href="#MJX-32-TEX-N-3D"></use></g><g data-mml-node="mfrac" transform="translate(1823.6,0)"><g data-mml-node="mrow" transform="translate(1086,710)"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-32-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(794.2,0)"><use data-c="2212" xlink:href="#MJX-32-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(1794.4,0)"><use data-c="1D438" xlink:href="#MJX-32-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(2558.4,0)"><use data-c="5B" xlink:href="#MJX-32-TEX-N-5B"></use></g><g data-mml-node="mi" transform="translate(2836.4,0)"><use data-c="1D465" xlink:href="#MJX-32-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(3408.4,0)"><use data-c="5D" xlink:href="#MJX-32-TEX-N-5D"></use></g></g><g data-mml-node="msqrt" transform="translate(220,-937.5)"><g transform="translate(1020,0)"><g data-mml-node="mtext"><use data-c="56" xlink:href="#MJX-32-TEX-N-56"></use><use data-c="61" xlink:href="#MJX-32-TEX-N-61" transform="translate(750,0)"></use><use data-c="72" xlink:href="#MJX-32-TEX-N-72" transform="translate(1250,0)"></use></g><g data-mml-node="mo" transform="translate(1642,0)"><use data-c="5B" xlink:href="#MJX-32-TEX-N-5B"></use></g><g data-mml-node="mi" transform="translate(1920,0)"><use data-c="1D465" xlink:href="#MJX-32-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(2492,0)"><use data-c="5D" xlink:href="#MJX-32-TEX-N-5D"></use></g><g data-mml-node="mo" transform="translate(2992.2,0)"><use data-c="2B" xlink:href="#MJX-32-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(3992.4,0)"><use data-c="1D716" xlink:href="#MJX-32-TEX-I-1D716"></use></g></g><g data-mml-node="mo" transform="translate(0,67.5)"><use data-c="221A" xlink:href="#MJX-32-TEX-SO-221A"></use></g><rect width="4398.4" height="60" x="1020" y="857.5"></rect></g><rect width="5618.4" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(7904.2,0)"><use data-c="2217" xlink:href="#MJX-32-TEX-N-2217"></use></g><g data-mml-node="mi" transform="translate(8626.4,0)"><use data-c="1D6FE" xlink:href="#MJX-32-TEX-I-1D6FE"></use></g><g data-mml-node="mo" transform="translate(9391.7,0)"><use data-c="2B" xlink:href="#MJX-32-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(10391.9,0)"><use data-c="1D6FD" xlink:href="#MJX-32-TEX-I-1D6FD"></use></g></g></g></svg></mjx-container>
<p>每个项目都用其归一化的值进行更新，这将使其变成均值为<code>0</code>、方差为<code>1</code>的正态分布。两个参数<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.489ex;" xmlns="http://www.w3.org/2000/svg" width="1.229ex" height="1.486ex" role="img" focusable="false" viewBox="0 -441 543 657" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-32-TEX-I-1D6FE" d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D6FE" xlink:href="#MJX-32-TEX-I-1D6FE"></use></g></g></g></svg></mjx-container>和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="1.281ex" height="2.034ex" role="img" focusable="false" viewBox="0 -705 566 899" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-30-TEX-I-1D6FD" d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D6FD" xlink:href="#MJX-30-TEX-I-1D6FD"></use></g></g></g></svg></mjx-container>是可学习的参数，允许模型根据损失函数的需要“放大”每个特征的规模或对特征进行平移。<strong>通过批量归一化</strong>，我们按列（特征）进行归一化；<strong>通过层归一化</strong>，我们按行（数据项）进行归一化。</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_12.png" class="">

<h4 id="组归一化"><a href="#组归一化" class="headerlink" title="组归一化"></a>组归一化</h4><p><code>Group Normalization</code>(<code>GN</code>)是一种用于深度神经网络的归一化技术,主要用于改善网络训练的稳定性和性能。<code>GN</code>的核心思想是将每一层的通道(<code>channels</code>)分成若干组,然后在每个组内进行归一化。这种方法不依赖于批次大小,因此在小批量或在线学习场景下表现更加稳定。</p>
<img data-src="/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/sd_13.png" class="">

<p>主要优势：</p>
<ul>
<li><strong>独立于批次大小</strong>: <code>GN</code>的计算不依赖于批次大小,因此在小批量或在线学习场景下表现更加稳定。</li>
<li><strong>适用于各种任务</strong>: <code>GN</code>可以有效应用于图像分类、目标检测、语义分割等多种计算机视觉任务。</li>
<li><strong>改善训练稳定性</strong>: 通过组内归一化,<code>GN</code>可以减少对超参数的敏感性,提高训练稳定性。</li>
<li><strong>灵活性</strong>: 通过调整组的数量,<code>GN</code>可以在<code>Layer Normalization</code>和<code>Instance Normalization</code>之间平滑过渡。</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>umbrella
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/" title="Stable Diffusion模型—探析（PyTorch）">https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/AI/" rel="tag"># AI</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/07/08/artificial-intelligence/BERT_theory_study/" rel="prev" title="BERT模型—探析（Transformer）">
                  <i class="fa fa-chevron-left"></i> BERT模型—探析（Transformer）
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/07/12/artificial-intelligence/LLaMA2_theory_study/" rel="next" title="LLaMA 2 模型—探析（PyTorch）">
                  LLaMA 2 模型—探析（PyTorch） <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">辽ICP备15012817号-2 </a>
  </div>
  <div class="copyright">
    &copy; 2022 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">umbrella</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">1m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">57:33</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/fresh88888888" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.8/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/comments.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/motion.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/next-boot.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/pjax.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/search/local-search.min.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.12/pdfobject.min.js","integrity":"sha256-g2xji1rlE3KsGVClvuxTbcR0Kn2+wtQADSff2Tbb4zA="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/tags/pdf.min.js"></script>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/fancybox.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/pace.min.js"></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":5000,"priority":true,"url":"https://fresh88888888.github.io/2024/07/10/artificial-intelligence/Stable_Diffusion_theory_study/"}</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/quicklink.min.js"></script>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"fresh88888888.github.io","issue_term":"title","theme":"github-light"}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.17.1/third-party/comments/utterances.min.js"></script>

</body>
</html>
